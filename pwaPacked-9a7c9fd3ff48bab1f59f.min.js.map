{"version":3,"file":"pwaPacked-9a7c9fd3ff48bab1f59f.min.js","mappings":"mBAAA,IAAIA,EAAgB,YAEhBC,EAAe,CAAC,cAGdC,EAAgCC,KAGtCD,EAAIE,iBAAiB,WAAW,SAACC,GAC7BA,EAAMC,UACFC,OACKC,KAAKR,GACLS,MAAK,SAAAC,GAAS,OAAAA,EAAMC,OAAOV,MAC3BQ,MAAK,WAAM,OAAAP,EAAIU,qBAI5BV,EAAIE,iBAAiB,YAAY,WAC7BF,EAAIW,QAAQC,WAKhBZ,EAAIE,iBAAiB,SAAS,SAACC,GAC3BA,EAAMU,YACFC,MAAMX,EAAMY,SACPR,MAAK,SAAAS,GACF,OAAIb,EAAMY,QAAQE,IAAIC,SAAS,uBACpBF,EAGJX,OAAOC,KAAKR,GAAeS,MAAK,SAAAC,GACnC,IAAMW,EAAUH,EAASI,QAKzB,OAHKD,EAAQF,IAAIC,SAAS,UAAqC,QAAzBf,EAAMY,QAAQM,QAChDb,EAAMc,IAAInB,EAAMY,QAASI,GAEtBH,QAGdO,OAAM,WACH,OAAOlB,OAAOmB,MAAMrB,EAAMY,iB","sources":["webpack://graphPlayground/./src/js/workers/pwaServiceWorker.ts"],"sourcesContent":["let dataCacheName = \"graphs-v1\";\n\nlet filesToCache = [\"index.html\"];\n\n// @ts-ignore\nconst ctx: ServiceWorkerGlobalScope = self as any;\n\n// @ts-ignore\nctx.addEventListener(\"install\", (event: ExtendableEvent) => {\n    event.waitUntil(\n        caches\n            .open(dataCacheName)\n            .then(cache => cache.addAll(filesToCache))\n            .then(() => ctx.skipWaiting())\n    );\n});\n\nctx.addEventListener(\"activate\", () => {\n    ctx.clients.claim();\n});\n\n// Get files from network first (cache if not cached already), then the cache\n// @ts-ignore\nctx.addEventListener(\"fetch\", (event: FetchEvent) => {\n    event.respondWith(\n        fetch(event.request)\n            .then(response => {\n                if (event.request.url.includes(\"chrome-extension://\")) {\n                    return response;\n                }\n\n                return caches.open(dataCacheName).then(cache => {\n                    const newResp = response.clone();\n                    // Check if the response is for a real URL, not base64 encoded data and it is a GET request\n                    if (!newResp.url.includes(\"data:\") && event.request.method === \"GET\") {\n                        cache.put(event.request, newResp);\n                    }\n                    return response;\n                });\n            })\n            .catch(() => {\n                return caches.match(event.request) as Promise<Response>;\n            })\n    );\n});\n"],"names":["dataCacheName","filesToCache","ctx","self","addEventListener","event","waitUntil","caches","open","then","cache","addAll","skipWaiting","clients","claim","respondWith","fetch","request","response","url","includes","newResp","clone","method","put","catch","match"],"sourceRoot":""}