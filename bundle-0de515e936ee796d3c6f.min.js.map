{"version":3,"file":"bundle-0de515e936ee796d3c6f.min.js","mappings":"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","sources":["webpack://graphPlayground/webpack/runtime/chunk loaded","webpack://graphPlayground/webpack/runtime/create fake namespace object","webpack://graphPlayground/webpack/runtime/load script","webpack://graphPlayground/./src/js/workers/GraphAlgorithmWorker.ts?dbca","webpack://graphPlayground/./src/js/UIInteractions.ts","webpack://graphPlayground/./src/js/app.ts","webpack://graphPlayground/./src/js/classes/GraphImmut/EdgeImmut.ts","webpack://graphPlayground/./src/js/classes/GraphImmut/GraphImmut.ts","webpack://graphPlayground/./src/js/classes/GraphImmut/NodeImmut.ts","webpack://graphPlayground/./src/js/graphState.ts","webpack://graphPlayground/./src/js/languages.ts","webpack://graphPlayground/./src/js/main.ts","webpack://graphPlayground/./src/js/settings.ts","webpack://graphPlayground/./src/js/util/genericHelpers.ts","webpack://graphPlayground/./src/js/util/graphHelpers.ts","webpack://graphPlayground/./src/ lazy ^\\.\\/.*\\.ts$ namespace object","webpack://graphPlayground/webpack/bootstrap","webpack://graphPlayground/webpack/runtime/compat get default export","webpack://graphPlayground/webpack/runtime/define property getters","webpack://graphPlayground/webpack/runtime/ensure chunk","webpack://graphPlayground/webpack/runtime/get javascript chunk filename","webpack://graphPlayground/webpack/runtime/global","webpack://graphPlayground/webpack/runtime/hasOwnProperty shorthand","webpack://graphPlayground/webpack/runtime/make namespace object","webpack://graphPlayground/webpack/runtime/node module decorator","webpack://graphPlayground/webpack/runtime/publicPath","webpack://graphPlayground/webpack/runtime/jsonp chunk loading","webpack://graphPlayground/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"graphPlayground:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"GraphAlgorithmWorker-de11ee70c94d0fb66c9c.min.worker.js\");\n}\n","import gHelp from \"./util/graphHelpers\";\r\nimport help from \"./util/genericHelpers\";\r\nimport GraphState from \"./graphState\";\r\nimport { FlowResult, MSTResult, ShortestPathResult } from \"./GraphAlgorithms\";\r\n//@ts-ignore\r\nimport Worker from \"worker-loader!./workers/GraphAlgorithmWorker\";\r\nimport NodeImmut from \"./classes/GraphImmut/NodeImmut\";\r\nimport EdgeImmut from \"./classes/GraphImmut/EdgeImmut\";\r\nimport GraphImmut from \"./classes/GraphImmut/GraphImmut\";\r\nimport * as languages from \"./languages\";\r\n\r\ninterface AlgorithmI {\r\n    name: string;\r\n    directional?: boolean;\r\n    weighted?: boolean;\r\n    applyFunc: () => any;\r\n    display: boolean;\r\n}\r\n\r\nconst makeAndPrintShortestPath = (title: string, fn: string, weighted: boolean): void => {\r\n    const myName = languages.current.ShortestPath;\r\n    if (UIInteractions.isRunning[myName]) {\r\n        UIInteractions.printAlreadyRunning(myName);\r\n        return;\r\n    }\r\n    UIInteractions.isRunning[myName] = true;\r\n\r\n    help.showFormModal(\r\n        ($modal, values) => {\r\n            $modal.modal(\"hide\");\r\n\r\n            const source = GraphState.nodeLabelToID(values[0]);\r\n            const sink = GraphState.nodeLabelToID(values[1]);\r\n\r\n            const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n            const w = UIInteractions.getWorkerIfPossible(e => {\r\n                let a = e.data;\r\n                w.cleanup();\r\n                if (iStartedProgress) {\r\n                    UIInteractions.stopLoadingAnimation();\r\n                }\r\n                UIInteractions.isRunning[myName] = false;\r\n\r\n                if (a === false) {\r\n                    if (fn.includes(\"dijkstra\")) {\r\n                        help.showSimpleModal(\r\n                            languages.current.DijkstraError,\r\n                            languages.current.DijkstraErrorHTML\r\n                        );\r\n                    } else if (fn.includes(\"bellman\")) {\r\n                        help.showSimpleModal(\r\n                            languages.current.BellmanFordError,\r\n                            languages.current.BellmanFordErrorHTML\r\n                        );\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                a = a as ShortestPathResult;\r\n\r\n                let p = `<h3>${title}</h3><hr>${help.stringReplacement(languages.current.NoPathFromAToB,\r\n                    help.htmlEncode(source.toString()), help.htmlEncode(sink.toString()))}`;\r\n\r\n                if (a.pathExists) {\r\n                    p = help.stringReplacement(languages.current.ShortestPathFromAToB, title,\r\n                        GraphState.nodeIDToLabel(source), GraphState.nodeIDToLabel(sink), a.distance);\r\n                    if (weighted) {\r\n                        p += `\\n${help.stringReplacement(languages.current.WithWeightedCost, a.cost)}`;\r\n                    }\r\n                    p += \"\\n\\n\" + languages.current.UsingPath;\r\n\r\n                    p = help.htmlEncode(p);\r\n                    let graph = GraphState.getGraphData(GraphState.graph, false, true);\r\n                    let G = new GraphImmut(graph.nodes, graph.edges, graph.directed, graph.weighted);\r\n                    a.path.forEach((v: number, i: number) => {\r\n                        p += `${help.htmlEncode(GraphState.nodeIDToLabel(v))} &rarr; `;\r\n                        if (i > 0) {\r\n                            G = G.editEdge(a.path[i - 1], v, null, null, \"#FF0000\") as GraphImmut;\r\n                        }\r\n                    });\r\n                    GraphState.graph = G;\r\n                    window.main.setData(GraphState.getGraphData(G), false, false, false);\r\n                    p = p.slice(0, -8);\r\n                    p = `<h3>${title}</h3><hr>${p}`;\r\n                }\r\n\r\n                help.printout(p);\r\n            });\r\n            w.send({\r\n                type: fn,\r\n                args: [source, sink],\r\n                convertToGraphImmut: true,\r\n                graph: window.main.graphState.getGraphData()\r\n            });\r\n        },\r\n        title,\r\n        languages.current.Go,\r\n        [\r\n            {\r\n                label: languages.current.StartNode,\r\n                type: \"text\",\r\n                validationFunc: window.main.nodeLabelIDValidator\r\n            },\r\n            {\r\n                label: languages.current.EndNode,\r\n                type: \"text\",\r\n                validationFunc: window.main.nodeLabelIDValidator\r\n            }\r\n        ],\r\n        ($modal) => {\r\n            UIInteractions.isRunning[myName] = false;\r\n            $modal.modal(\"hide\");\r\n        }\r\n    );\r\n};\r\n\r\nconst makeAndPrintComponents = async (stronglyConnected: boolean): Promise<void> => {\r\n    let a = null;\r\n    let cc = languages.current.ConnectedComponents;\r\n    let componentKey = \"connectedComponents\";\r\n\r\n    if (stronglyConnected) {\r\n        if (!window.settings.getOption(\"direction\")) {\r\n            return;\r\n        }\r\n        cc = languages.current.StronglyConnectedComponents;\r\n        componentKey = \"stronglyConnectedComponents\";\r\n    } else {\r\n        if (window.settings.getOption(\"direction\")) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    if (UIInteractions.isRunning[cc]) {\r\n        UIInteractions.printAlreadyRunning(cc);\r\n        return Promise.reject(languages.current.TaskAlreadyRunning);\r\n    }\r\n    UIInteractions.isRunning[cc] = true;\r\n\r\n    const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n    const w = UIInteractions.getWorkerIfPossible(e => {\r\n        a = e.data;\r\n        w.cleanup();\r\n\r\n        GraphState.graphProperties[cc] = a.count;\r\n        GraphState.setUpToDate(true, [cc, componentKey]);\r\n        GraphState.state[componentKey] = a.components;\r\n\r\n        const components = help.flatten(a.components);\r\n        let p = help.stringReplacement(languages.current.NumberOfConnectedComponents, cc, a.count);\r\n        p += \"\\n\\n\";\r\n\r\n        components.forEach((v, i) => {\r\n            p += help.stringReplacement(languages.current.VertexIsInConnectedComponentNumber, GraphState.nodeIDToLabel(i), v + \"\") + \"\\n\";\r\n        });\r\n\r\n        p += `\\n${JSON.stringify(help.rotate(a.components), null, 4)}\\n\\n`;\r\n        p = `<h3>${cc}</h3><hr>${help.htmlEncode(p)}`;\r\n\r\n        if (iStartedProgress) {\r\n            UIInteractions.stopLoadingAnimation();\r\n        }\r\n        UIInteractions.isRunning[cc] = false;\r\n\r\n        help.printout(p);\r\n    });\r\n    w.send({\r\n        type: componentKey,\r\n        args: [],\r\n        graph: window.main.graphState.getGraphData(),\r\n        convertToGraphImmut: true\r\n    });\r\n};\r\n\r\nclass WorkerProxy {\r\n    private readonly worker: Worker;\r\n    private readonly id: number;\r\n    private readonly listener: (e: { data: any }) => any;\r\n\r\n    constructor(id: number, w: Worker, listener: ((e: { data: any }) => any)) {\r\n        this.id = id;\r\n        this.worker = w;\r\n        this.listener = listener;\r\n        w.postMessage({ type: \"id\", id });\r\n        w.onmessage = (e: MessageEvent) => {\r\n            this.listener({ data: e.data.data });\r\n        };\r\n    }\r\n\r\n    public send(data: any) {\r\n        this.worker.postMessage(data);\r\n    }\r\n\r\n    public cleanup() {\r\n        this.worker.terminate();\r\n        GraphState.workerPool[this.id] = null;\r\n    }\r\n}\r\n\r\nexport default class UIInteractions {\r\n    public static isRunning: { [index: string]: boolean } = {};\r\n    static getAlgorithms(): AlgorithmI[] {\r\n        return [\r\n            {\r\n                name: languages.current.GraphColoring,\r\n                directional: false,\r\n                applyFunc: UIInteractions.makeAndPrintGraphColoring,\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.ConnectedComponents,\r\n                directional: false,\r\n                applyFunc: () => {\r\n                    makeAndPrintComponents(false);\r\n                },\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.StronglyConnectedComponents,\r\n                directional: true,\r\n                display: true,\r\n                applyFunc: () => {\r\n                    makeAndPrintComponents(true);\r\n                }\r\n            },\r\n            {\r\n                name: languages.current.BFS,\r\n                directional: false,\r\n                applyFunc: () => {\r\n                    makeAndPrintShortestPath(languages.current.BFS, \"breadthFirstSearch\", false);\r\n                },\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.Dijkstra,\r\n                applyFunc: () => {\r\n                    makeAndPrintShortestPath(languages.current.Dijkstra, \"dijkstraSearch\", true);\r\n                },\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.BellmanFord,\r\n                weighted: true,\r\n                directional: true,\r\n                applyFunc: () => {\r\n                    makeAndPrintShortestPath(languages.current.BellmanFord, \"bellmanFord\", true);\r\n                },\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.FordFulkerson,\r\n                weighted: true,\r\n                directional: true,\r\n                applyFunc: UIInteractions.makeAndPrintFFMCMF,\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.KruskalMST,\r\n                weighted: true,\r\n                directional: false,\r\n                applyFunc: UIInteractions.makeAndPrintKruskal,\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.Cyclic,\r\n                applyFunc: UIInteractions.makeAndPrintIsCyclic,\r\n                directional: true,\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.TopoSort,\r\n                applyFunc: UIInteractions.makeAndPrintTopologicalSort,\r\n                directional: true,\r\n                display: true\r\n            },\r\n            {\r\n                name: languages.current.Eulerian,\r\n                directional: false,\r\n                display: false,\r\n                applyFunc: null\r\n            },\r\n            {\r\n                name: languages.current.Eulerian,\r\n                directional: true,\r\n                display: true,\r\n                applyFunc: UIInteractions.makeAndPrintDirectionalEulerian\r\n            }\r\n        ] as AlgorithmI[];\r\n    }\r\n\r\n    static registerListeners(): void {\r\n        const makeSimpleClickListener = (selector: string, fn: () => any) => {\r\n            document.querySelector(selector)!.addEventListener(\"click\", e => {\r\n                e.preventDefault();\r\n                fn();\r\n            });\r\n        };\r\n\r\n        makeSimpleClickListener(\"#print-help-link\", UIInteractions.printHelp);\r\n        makeSimpleClickListener(\"#graph-options-link\", UIInteractions.printOptions);\r\n        makeSimpleClickListener(\"#load-petersen-link\", async () => {\r\n            const predefined = (await import(\"./util/predefinedGraphs\")).default;\r\n            window.main.setData(predefined.Petersen(), false, true, true);\r\n        });\r\n        makeSimpleClickListener(\"#load-konigsberg-link\", async () => {\r\n            const predefined = (await import(\"./util/predefinedGraphs\")).default;\r\n            window.main.setData(predefined.Konigsberg(), false, true, true);\r\n        });\r\n        makeSimpleClickListener(\"#load-complete-link\", async () => {\r\n            const predefined = (await import(\"./util/predefinedGraphs\")).default;\r\n            predefined.Complete();\r\n        });\r\n        makeSimpleClickListener(\"#load-hypercube-link\", async () => {\r\n            const predefined = (await import(\"./util/predefinedGraphs\")).default;\r\n            predefined.Hypercube();\r\n        });\r\n        makeSimpleClickListener(\"#load-custom-link\", async () => {\r\n            const predefined = (await import(\"./util/predefinedGraphs\")).default;\r\n            predefined.Custom();\r\n        });\r\n        makeSimpleClickListener(\"#undo-link\", window.main.undo);\r\n        makeSimpleClickListener(\"#redo-link\", window.main.redo);\r\n        makeSimpleClickListener(\"#calculate-all-properties-link\", async () => {\r\n            return GraphState.makeAndPrintProperties(true);\r\n        });\r\n        makeSimpleClickListener(\"#new-graph-layout-link\", window.main.shuffleNetworkLayout);\r\n        makeSimpleClickListener(\"#import-file-link\", async () => {\r\n            const imp = (await import(\"./dataImportExport\")).default;\r\n            imp.makeImportFileModal();\r\n        });\r\n        makeSimpleClickListener(\"#import-text-link\", async () => {\r\n            const imp = (await import(\"./dataImportExport\")).default;\r\n            imp.makeImportTextModal();\r\n        });\r\n        makeSimpleClickListener(\"#export-file-link\", async () => {\r\n            const imp = (await import(\"./dataImportExport\")).default;\r\n            imp.makeExportFileModal();\r\n        });\r\n        makeSimpleClickListener(\"#export-text-link\", async () => {\r\n            const imp = (await import(\"./dataImportExport\")).default;\r\n            imp.makeExportTextModal();\r\n        });\r\n        (document.querySelector(\"#fileDropdown\") as HTMLAnchorElement).innerText = languages.current.File;\r\n        (document.querySelector(\"#import-file-link\") as HTMLAnchorElement).innerText = languages.current.ImportFile;\r\n        (document.querySelector(\"#import-text-link\") as HTMLAnchorElement).innerText = languages.current.ImportText;\r\n        (document.querySelector(\"#export-file-link\") as HTMLAnchorElement).innerText = languages.current.ExportFile;\r\n        (document.querySelector(\"#export-text-link\") as HTMLAnchorElement).innerText = languages.current.ExportText;\r\n\r\n        (document.querySelector(\"#calculate-all-properties-link\") as HTMLAnchorElement).innerText = languages.current.CalculateAllProperties;\r\n        (document.querySelector(\"#new-graph-layout-link\") as HTMLAnchorElement).innerText = languages.current.NewGraphLayout;\r\n        (document.querySelector(\"#graph-options-link\") as HTMLAnchorElement).innerText = languages.current.GraphOptions;\r\n        (document.querySelector(\"#print-help-link\") as HTMLAnchorElement).innerText = languages.current.Help;\r\n\r\n        (document.querySelector(\"#example-graphs-label\") as HTMLHeadingElement).innerText = languages.current.ExampleGraphs;\r\n        (document.querySelector(\"#load-petersen-link\") as HTMLAnchorElement).innerText = languages.current.LoadPetersen;\r\n        (document.querySelector(\"#load-konigsberg-link\") as HTMLAnchorElement).innerText = languages.current.LoadKonigsberg;\r\n        (document.querySelector(\"#load-complete-link\") as HTMLAnchorElement).innerText = languages.current.LoadComplete;\r\n        (document.querySelector(\"#load-hypercube-link\") as HTMLAnchorElement).innerText = languages.current.LoadHypercube;\r\n        (document.querySelector(\"#load-custom-link\") as HTMLAnchorElement).innerText = languages.current.LoadCustom;\r\n\r\n        (document.querySelector(\"#algorithms-label\") as HTMLHeadElement).innerText = languages.current.Algorithms;\r\n\r\n        (document.querySelector(\"#graph-properties-label\") as HTMLHeadElement).innerText = languages.current.GraphProperties;\r\n        (document.querySelector(\"#results-label\") as HTMLHeadElement).innerText = languages.current.Results;\r\n    }\r\n\r\n    static printHelp(): void {\r\n        help.showSimpleModal(\r\n            languages.current.Help,\r\n            languages.current.IssuesHTML\r\n        );\r\n    }\r\n\r\n    static printOptions(): void {\r\n        help.showFormModal(\r\n            ($modal, vals) => {\r\n                $modal.modal(\"hide\");\r\n                if (window.settings.getOption(\"nodePhysics\") !== vals[0]) {\r\n                    window.settings.changeOption(\"nodePhysics\", vals[0]); // Physics\r\n                }\r\n                if (window.settings.getOption(\"direction\") !== vals[1]) {\r\n                    window.settings.changeOption(\"direction\", vals[1]);\r\n                    let G = GraphState.graph;\r\n                    G = vals[1] ? G.asDirected(true) : G.asUndirected();\r\n                    // Clear node coloring because graph color doesn't apply to directed graphs\r\n                    window.main.setData(GraphState.getGraphData(G, true));\r\n                }\r\n                if (window.settings.getOption(\"weights\") !== vals[2]) {\r\n                    window.settings.changeOption(\"weights\", vals[2]);\r\n                    let G = GraphState.graph;\r\n                    G = vals[2] ? G.asWeighted() : G.asUnweighted();\r\n                    window.main.setData(GraphState.getGraphData(G));\r\n                }\r\n                if (window.settings.getOption(\"customColors\") !== vals[3]) {\r\n                    window.settings.changeOption(\"customColors\", vals[3]);\r\n                }\r\n            },\r\n            languages.current.Options,\r\n            languages.current.Save,\r\n            [\r\n                {\r\n                    label: languages.current.GraphPhysics,\r\n                    initialValue: window.settings.getOption(\"nodePhysics\"),\r\n                    type: \"checkbox\"\r\n                },\r\n                {\r\n                    label: languages.current.DiGraph,\r\n                    initialValue: window.settings.getOption(\"direction\"),\r\n                    type: \"checkbox\"\r\n                },\r\n                {\r\n                    label: languages.current.WeightedGraph,\r\n                    initialValue: window.settings.getOption(\"weights\"),\r\n                    type: \"checkbox\"\r\n                },\r\n                {\r\n                    label: languages.current.CustomNodeColors,\r\n                    initialValue: window.settings.getOption(\"customColors\"),\r\n                    type: \"checkbox\"\r\n                }\r\n            ],\r\n            null\r\n        );\r\n    }\r\n\r\n    static terminateAllWebWorkers(): void {\r\n        for (const v of GraphState.workerPool) {\r\n            if (v !== null && v instanceof window.Worker) {\r\n                v.terminate();\r\n            }\r\n        }\r\n        // Cleanup state\r\n        GraphState.workerPool = [];\r\n        UIInteractions.stopLoadingAnimation();\r\n        UIInteractions.isRunning = {};\r\n    }\r\n\r\n    static getWorkerIfPossible(onmessage: (d: { data: any }) => any): WorkerProxy {\r\n        let nextIndex = GraphState.workerPool.findIndex(v => {\r\n            return v === null || typeof v === \"undefined\";\r\n        });\r\n        if (nextIndex === -1) {\r\n            nextIndex = GraphState.workerPool.length;\r\n        }\r\n\r\n        const w = new Worker();\r\n        GraphState.workerPool[nextIndex] = w;\r\n        return new WorkerProxy(nextIndex, w, onmessage);\r\n    }\r\n\r\n    static startLoadingAnimation() {\r\n        const prog = document.getElementById(\"task-spinner\")!;\r\n        if (prog.style.display !== \"flex\") {\r\n            prog.style.display = \"flex\";\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static stopLoadingAnimation() {\r\n        const prog = document.getElementById(\"task-spinner\")!;\r\n        if (prog.style.display !== \"none\") {\r\n            prog.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    static printAlreadyRunning(name?: string) {\r\n        let n = languages.current.ThisTask;\r\n        if (name) {\r\n            n = name;\r\n        }\r\n        help.showSimpleModal(\r\n            languages.current.TaskAlreadyRunning,\r\n            \"<p>\" + help.stringReplacement(languages.current.TaskAlreadyRunningBody, n) + \"</p>\"\r\n        );\r\n    }\r\n\r\n    static makeAndPrintGraphColoring(): Promise<void> {\r\n        const myName = languages.current.GraphColoring;\r\n        if (UIInteractions.isRunning[myName]) {\r\n            UIInteractions.printAlreadyRunning(myName);\r\n            return Promise.reject(languages.current.TaskAlreadyRunning);\r\n        }\r\n        UIInteractions.isRunning[myName] = true;\r\n\r\n        return new Promise<void>(async resolve => {\r\n            if (window.settings.getOption(\"direction\")) {\r\n                UIInteractions.isRunning[myName] = false;\r\n                return resolve();\r\n            }\r\n\r\n            // Use cached responses when able\r\n            let a = {\r\n                chromaticNumber: (await GraphState.getProperty(\"Chromatic Number\")) as number,\r\n                colors: GraphState.state.graphColoring as {}\r\n            };\r\n\r\n            const printGC = () => {\r\n                GraphState.graphProperties[\"Chromatic Number\"] = a.chromaticNumber;\r\n                GraphState.setUpToDate(true, [\"Chromatic Number\", \"graphColoring\"]);\r\n                (GraphState.state.graphColoring as {}) = a.colors;\r\n\r\n                const colors = help.flatten(a.colors);\r\n                let p = help.stringReplacement(languages.current.NumberOfVertices, colors.length + \"\");\r\n                p += \"\\n\" + help.stringReplacement(languages.current.ChromaticNumberIs, a.chromaticNumber + \"\");\r\n                p += \"\\n\\n\";\r\n\r\n                colors.forEach((v, i) => {\r\n                    p += help.stringReplacement(languages.current.VertexGetsColor, GraphState.nodeIDToLabel(i), v + \"\") + \"\\n\";\r\n                });\r\n\r\n                p += `\\n${JSON.stringify(help.rotate(a.colors), null, 4)}\\n\\n`;\r\n\r\n                p = `<h3>${languages.current.GraphColoringTitle}</h3><hr>${help.htmlEncode(p)}`;\r\n                p += `<br/><button class='btn btn-primary' onclick='main.applyColors()'>${languages.current.ReColor}</button>`;\r\n\r\n                help.printout(p);\r\n                window.main.applyColors();\r\n            };\r\n\r\n            const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n\r\n            if (!(a.chromaticNumber !== null && (await GraphState.getProperty(\"graphColoring\")) !== null)) {\r\n                const w = UIInteractions.getWorkerIfPossible(e => {\r\n                    a = e.data;\r\n                    printGC();\r\n                    w.cleanup();\r\n                    if (iStartedProgress) {\r\n                        UIInteractions.stopLoadingAnimation();\r\n                    }\r\n                    UIInteractions.isRunning[myName] = false;\r\n                    resolve(e.data);\r\n                });\r\n                w.send({\r\n                    type: \"colorNetwork\",\r\n                    args: [],\r\n                    graph: window.main.graphState.getGraphData(),\r\n                    convertToGraphImmut: true\r\n                });\r\n            } else {\r\n                printGC();\r\n                if (iStartedProgress) {\r\n                    UIInteractions.stopLoadingAnimation();\r\n                }\r\n                UIInteractions.isRunning[myName] = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    static makeAndPrintDirectionalEulerian(): Promise<void> {\r\n        const myName = languages.current.Eulerian;\r\n        if (UIInteractions.isRunning[myName]) {\r\n            UIInteractions.printAlreadyRunning(myName);\r\n            return Promise.reject(languages.current.TaskAlreadyRunning);\r\n        }\r\n        UIInteractions.isRunning[myName] = true;\r\n\r\n        return new Promise<void>(async resolve => {\r\n            if (!window.settings.getOption(\"direction\")) {\r\n                UIInteractions.isRunning[myName] = false;\r\n                return resolve();\r\n            }\r\n\r\n            const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n            const w = UIInteractions.getWorkerIfPossible(e => {\r\n                GraphState.graphProperties.eulerian = e.data;\r\n                GraphState.setUpToDate(true, [\"eulerian\"]);\r\n                w.cleanup();\r\n                if (iStartedProgress) {\r\n                    UIInteractions.stopLoadingAnimation();\r\n                }\r\n                UIInteractions.isRunning[myName] = false;\r\n                resolve(e.data);\r\n            });\r\n\r\n            const scc = await GraphState.getProperty(\"stronglyConnectedComponents\", true);\r\n\r\n            w.send({\r\n                type: \"directionalEulerian\",\r\n                args: [gHelp.findVertexDegreesDirectional(GraphState.graph.getFullAdjacency()), scc]\r\n            });\r\n        });\r\n    }\r\n\r\n    static makeAndPrintEulerian(ignoreDuplicate = false): Promise<void> {\r\n        const myName = languages.current.Eulerian;\r\n        if (UIInteractions.isRunning[myName]) {\r\n            if (ignoreDuplicate) {\r\n                return Promise.resolve();\r\n            }\r\n            UIInteractions.printAlreadyRunning(myName);\r\n            return Promise.reject(languages.current.TaskAlreadyRunning);\r\n        }\r\n        UIInteractions.isRunning[myName] = true;\r\n\r\n        return new Promise<void>(async resolve => {\r\n            if (window.settings.getOption(\"direction\")) {\r\n                UIInteractions.isRunning[myName] = false;\r\n                return resolve(UIInteractions.makeAndPrintDirectionalEulerian());\r\n            }\r\n\r\n            const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n            const cc = await GraphState.getProperty(\"connectedComponents\", true);\r\n\r\n            const w = UIInteractions.getWorkerIfPossible(e => {\r\n                GraphState.graphProperties.eulerian = e.data;\r\n                GraphState.setUpToDate(true, [\"eulerian\"]);\r\n                if (iStartedProgress) {\r\n                    UIInteractions.stopLoadingAnimation();\r\n                }\r\n                UIInteractions.isRunning[myName] = false;\r\n                w.cleanup();\r\n                resolve(e.data);\r\n            });\r\n            w.send({\r\n                type: \"hasEulerianCircuit\",\r\n                args: [GraphState.graph.getAllOutDegrees(), cc]\r\n            });\r\n        });\r\n    }\r\n\r\n    static makeAndPrintFFMCMF(): void {\r\n        if (!window.settings.getOption(\"direction\") || !window.settings.getOption(\"weights\")) {\r\n            return;\r\n        }\r\n        const myName = languages.current.FordFulkerson;\r\n        if (UIInteractions.isRunning[myName]) {\r\n            UIInteractions.printAlreadyRunning(myName);\r\n            return;\r\n        }\r\n        UIInteractions.isRunning[myName] = true;\r\n\r\n        help.showFormModal(\r\n            async ($modal, values) => {\r\n                $modal.modal(\"hide\");\r\n\r\n                const source = GraphState.nodeLabelToID(values[0]);\r\n                const sink = GraphState.nodeLabelToID(values[1]);\r\n\r\n                let a: boolean | FlowResult | null = null;\r\n\r\n                const cb = () => {\r\n                    let p = `<h3>${languages.current.FordFulkerson}</h3><hr>${help.stringReplacement(languages.current.NoPathFromAToB,\r\n                        help.htmlEncode(GraphState.nodeIDToLabel(source)), help.htmlEncode(GraphState.nodeIDToLabel(sink)))}`;\r\n\r\n                    if (a === false) {\r\n                        help.printout(p);\r\n                        return;\r\n                    }\r\n                    a = a as { maxFlow: number; flowPath: any[] };\r\n\r\n                    p = `${languages.current.FordFulkersonMaxFlowMinCut} ${help.stringReplacement(languages.current.MaxFlowFromAToB,\r\n                        GraphState.nodeIDToLabel(source), GraphState.nodeIDToLabel(sink), a.maxFlow + \"\")}`;\r\n                    p += `\\n\\n${languages.current.UsingCapacities}\\n\\n`;\r\n                    p = help.htmlEncode(p);\r\n                    a.flowPath.forEach(v => {\r\n                        p += help.stringReplacement(languages.current.FlowWithCapacity, GraphState.nodeIDToLabel(v.from),\r\n                            GraphState.nodeIDToLabel(v.to), v.flow + \"\", v.capacity + \"\");\r\n                        p += \"\\n\";\r\n                    });\r\n                    p = p.trim();\r\n                    p = `<h3>${languages.current.FordFulkersonMaxFlowMinCut}</h3><hr>` + p;\r\n\r\n                    help.printout(p);\r\n                };\r\n\r\n                const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n                const w = UIInteractions.getWorkerIfPossible(e => {\r\n                    a = e.data;\r\n                    UIInteractions.isRunning[myName] = false;\r\n                    cb();\r\n                    if (iStartedProgress) {\r\n                        UIInteractions.stopLoadingAnimation();\r\n                    }\r\n                    w.cleanup();\r\n                });\r\n                w.send({\r\n                    type: \"fordFulkerson\",\r\n                    args: [source, sink],\r\n                    convertToGraphImmut: true,\r\n                    graph: window.main.graphState.getGraphData()\r\n                });\r\n            },\r\n            languages.current.FordFulkersonMaxFlowMinCut,\r\n            languages.current.Go,\r\n            [\r\n                {\r\n                    label: languages.current.SourceNode,\r\n                    type: \"text\",\r\n                    validationFunc: window.main.nodeLabelIDValidator\r\n                },\r\n                {\r\n                    label: languages.current.SinkNode,\r\n                    type: \"text\",\r\n                    validationFunc: window.main.nodeLabelIDValidator\r\n                }\r\n            ],\r\n            ($modal) => {\r\n                UIInteractions.isRunning[myName] = false;\r\n                $modal.modal(\"hide\");\r\n            }\r\n        );\r\n    }\r\n\r\n    static makeAndPrintKruskal(): void {\r\n        if (window.settings.getOption(\"direction\") || !window.settings.getOption(\"weights\")) {\r\n            return;\r\n        }\r\n\r\n        const myName = languages.current.KruskalMST;\r\n        if (UIInteractions.isRunning[myName]) {\r\n            UIInteractions.printAlreadyRunning(myName);\r\n            return;\r\n        }\r\n        UIInteractions.isRunning[myName] = true;\r\n\r\n        const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n        const w = UIInteractions.getWorkerIfPossible(e => {\r\n            const a: MSTResult = e.data;\r\n            w.cleanup();\r\n\r\n            let p = help.stringReplacement(languages.current.KruskalMSTTotalWeight, a.totalWeight + \"\");\r\n            p += `\\n\\n${languages.current.UsingEdges}\\n\\n`;\r\n            p = help.htmlEncode(p);\r\n            a.mst.forEach(v => {\r\n                p += `${GraphState.nodeIDToLabel(new EdgeImmut(v).getFrom())}&rarr;`;\r\n                p += `${GraphState.nodeIDToLabel(new EdgeImmut(v).getTo())}\\n`;\r\n            });\r\n            p = p.trim();\r\n            p = `<h3>${languages.current.KruskalMST}</h3><hr>${p}`;\r\n\r\n            if (iStartedProgress) {\r\n                UIInteractions.stopLoadingAnimation();\r\n            }\r\n            UIInteractions.isRunning[myName] = false;\r\n\r\n            help.printout(p);\r\n        });\r\n        w.send({\r\n            type: \"kruskal\",\r\n            args: [],\r\n            convertToGraphImmut: true,\r\n            graph: window.main.graphState.getGraphData()\r\n        });\r\n    }\r\n\r\n    static makeAndPrintIsCyclic(): Promise<void> {\r\n        if (!window.settings.getOption(\"direction\")) {\r\n            return Promise.resolve();\r\n        }\r\n\r\n        const myName = languages.current.Cyclic;\r\n        if (UIInteractions.isRunning[myName]) {\r\n            UIInteractions.printAlreadyRunning(myName);\r\n            return Promise.reject(languages.current.TaskAlreadyRunning);\r\n        }\r\n        UIInteractions.isRunning[myName] = true;\r\n\r\n        return new Promise<void>(resolve => {\r\n            const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n            const w = UIInteractions.getWorkerIfPossible(e => {\r\n                GraphState.graphProperties.cyclic = e.data;\r\n                GraphState.setUpToDate(true, [\"cyclic\"]);\r\n                w.cleanup();\r\n                if (iStartedProgress) {\r\n                    UIInteractions.stopLoadingAnimation();\r\n                }\r\n                UIInteractions.isRunning[myName] = false;\r\n                resolve();\r\n            });\r\n            w.send({\r\n                type: \"isGraphCyclic\",\r\n                args: [],\r\n                convertToGraphImmut: true,\r\n                graph: window.main.graphState.getGraphData()\r\n            });\r\n        });\r\n    }\r\n\r\n    static makeAndPrintTopologicalSort(): void {\r\n        if (!window.settings.getOption(\"direction\")) {\r\n            return;\r\n        }\r\n\r\n        const myName = languages.current.TopoSort;\r\n        if (UIInteractions.isRunning[myName]) {\r\n            UIInteractions.printAlreadyRunning(myName);\r\n            return;\r\n        }\r\n        UIInteractions.isRunning[myName] = true;\r\n\r\n        const iStartedProgress = UIInteractions.startLoadingAnimation();\r\n        const w = UIInteractions.getWorkerIfPossible(e => {\r\n            const a: boolean | NodeImmut[] = e.data;\r\n            w.cleanup();\r\n\r\n            if (iStartedProgress) {\r\n                UIInteractions.stopLoadingAnimation();\r\n            }\r\n            UIInteractions.isRunning[myName] = false;\r\n\r\n            if (a === true) {\r\n                GraphState.graphProperties.cyclic = true;\r\n                GraphState.setUpToDate(true, [\"cyclic\"]);\r\n                help.printout(languages.current.TopoSortErrorHTML);\r\n                return;\r\n            }\r\n\r\n            let p = languages.current.TopoSort + \":\\n\\n\";\r\n            p = help.htmlEncode(p);\r\n            (a as any[]).forEach(v => {\r\n                p += `${GraphState.nodeIDToLabel(v.id)}, `;\r\n            });\r\n            p = p.slice(0, -2);\r\n            p = `<h3>${languages.current.TopoSort}</h3><hr>${p}`;\r\n\r\n            help.printout(p);\r\n        });\r\n        w.send({\r\n            type: \"topologicalSort\",\r\n            args: [],\r\n            convertToGraphImmut: true,\r\n            graph: window.main.graphState.getGraphData()\r\n        });\r\n    }\r\n\r\n    static printGraphAlgorithms(): void {\r\n        const $div = document.getElementById(\"algorithms-pane\")!;\r\n        $div.innerHTML = \"\";\r\n        const directional = window.settings.getOption(\"direction\");\r\n        const weighted = window.settings.getOption(\"weights\");\r\n\r\n        const addAlgoToPane = (alg: AlgorithmI) => {\r\n            const navlink = document.createElement(\"a\");\r\n            navlink.classList.add(\"nav-link\");\r\n            navlink.setAttribute(\"href\", \"#\");\r\n            navlink.innerText = alg.name;\r\n            navlink.addEventListener(\"click\", e => {\r\n                e.preventDefault();\r\n                alg.applyFunc();\r\n            });\r\n\r\n            $div.appendChild(navlink);\r\n        };\r\n\r\n        const a = UIInteractions.getAlgorithms();\r\n        a.forEach(alg => {\r\n            if (!alg.display) {\r\n                return;\r\n            }\r\n            if ((\"directional\" in alg && alg.directional === directional) || !(\"directional\" in alg)) {\r\n                if ((\"weighted\" in alg && alg.weighted === weighted) || !(\"weighted\" in alg)) {\r\n                    addAlgoToPane(alg);\r\n                }\r\n            } else if ((\"weighted\" in alg && alg.weighted === weighted) || !(\"weighted\" in alg)) {\r\n                if ((\"directional\" in alg && alg.directional === directional) || !(\"directional\" in alg)) {\r\n                    addAlgoToPane(alg);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\nimport \"bootstrap\";\r\nimport { Network } from \"vis-network\";\r\nimport { default as main, MainI } from \"./main\";\r\nimport Settings from \"./settings\";\r\nimport UI from \"./UIInteractions\";\r\nimport { GraphPlain } from \"./util/predefinedGraphs\";\r\nimport * as languages from \"./languages\";\r\n\r\ndeclare global {\r\n    interface Window {\r\n        main: MainI;\r\n        network: Network;\r\n        settings: typeof Settings;\r\n        ui: typeof UI;\r\n        Worker: Function;\r\n    }\r\n}\r\n\r\nwindow.main = main;\r\nwindow.settings = Settings;\r\n\r\nlanguages.setLanguage().then(() => {\r\n    window.ui = UI;\r\n    window.ui.registerListeners();\r\n\r\n    main.visOptions.locales = languages.current.VisLocale;\r\n    main.visOptions.locale = \"\";\r\n    window.network = new Network(main.container, {}, main.visOptions);\r\n    Settings.loadSettings();\r\n\r\n    main.addNetworkListeners(window.network);\r\n\r\n    let loadDefault = true;\r\n    if (Settings.checkForLocalStorage()) {\r\n        const s = localStorage.getItem(\"graphPlayground.lastState\");\r\n        if (s !== null) {\r\n            const jsonGraph: any = JSON.parse(s);\r\n            if (\"graph\" in jsonGraph && \"nodes\" in jsonGraph.graph) {\r\n                loadDefault = false;\r\n                main.applyState(false, jsonGraph as { graph: GraphPlain });\r\n            }\r\n        }\r\n    }\r\n    if (loadDefault) {\r\n        (async () => {\r\n            const predefined = (await import(\"./util/predefinedGraphs\")).default;\r\n            main.setData(predefined.Petersen(), false, true, true);\r\n        })();\r\n    }\r\n});\r\n","\"use strict\";\r\n\r\nexport interface EdgeImmutPlain {\r\n    label?: string;\r\n    from: number;\r\n    to: number;\r\n    weight: number;\r\n\r\n    [key: string]: any;\r\n\r\n    [key: number]: any;\r\n}\r\n\r\nexport default class EdgeImmut {\r\n    private readonly from: Readonly<number>;\r\n    private readonly to: Readonly<number>;\r\n    private readonly weight: Readonly<number>;\r\n    private readonly attributes: any;\r\n\r\n    constructor(from: number | EdgeImmutPlain, to?: number, weight: number | string = 1, extraAttrs: any = null) {\r\n        if (typeof from === \"object\") {\r\n            extraAttrs = Object.keys(from)\r\n                .filter(key => ![\"from\", \"to\", \"weight\"].includes(key))\r\n                .reduce((obj: any, key: string) => {\r\n                    obj[key] = (<EdgeImmutPlain>from)[key];\r\n                    return obj;\r\n                }, {});\r\n\r\n            to = from.to;\r\n            weight = from.weight;\r\n            from = from.from;\r\n        }\r\n\r\n        this.attributes = {};\r\n        if (extraAttrs !== null && typeof extraAttrs === \"object\") {\r\n            Object.keys(extraAttrs).forEach(key => {\r\n                this.attributes[key] = Object.freeze(extraAttrs[key]);\r\n            });\r\n        }\r\n\r\n        this.attributes = Object.freeze(this.attributes);\r\n        this.from = Object.freeze(from);\r\n        this.to = Object.freeze(to!);\r\n        this.weight = Object.freeze(parseFloat(weight as string));\r\n\r\n        if (new.target === EdgeImmut) {\r\n            Object.freeze(this);\r\n        }\r\n    }\r\n\r\n    getFrom(): Readonly<number> {\r\n        return this.from;\r\n    }\r\n\r\n    getTo(): Readonly<number> {\r\n        return this.to;\r\n    }\r\n\r\n    getWeight(): Readonly<number> {\r\n        return this.weight;\r\n    }\r\n\r\n    getAttribute(attribute: string | number): any {\r\n        if (attribute in this.attributes) {\r\n            return this.attributes[attribute];\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    getAllAttributes(): { [key: string]: any; [key: number]: any } {\r\n        return this.attributes;\r\n    }\r\n\r\n    toPlain(): EdgeImmutPlain {\r\n        const toReturn: EdgeImmutPlain = { from: this.from, to: this.to, weight: this.weight };\r\n        Object.keys(this.attributes).forEach(key => {\r\n            if (!(key in toReturn)) {\r\n                toReturn[key] = this.attributes[key];\r\n            }\r\n        });\r\n\r\n        return toReturn;\r\n    }\r\n\r\n    editEdge(newWeight: number | null, extraAttrs: any = {}): EdgeImmut {\r\n        // Merge existing and new attributes favoring the new\r\n        const attributes = Object.assign({}, this.attributes);\r\n        Object.keys(extraAttrs).forEach(key => {\r\n            attributes[key] = extraAttrs[key];\r\n        });\r\n\r\n        return new EdgeImmut(\r\n            this.getFrom(),\r\n            this.getTo(),\r\n            newWeight === null ? this.getWeight() : newWeight,\r\n            attributes\r\n        );\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\nimport {List} from 'immutable';\r\nimport {default as NodeImmut, NodeImmutPlain} from './NodeImmut';\r\nimport {default as EdgeImmut, EdgeImmutPlain} from './EdgeImmut';\r\n\r\ninterface NodeMapping {\r\n    [key: number]: number\r\n}\r\n\r\nconst filterExtraAttr = (data: any, labels: any) => {\r\n    return Object.keys(data)\r\n        .filter((key) => !(labels).includes(key))\r\n        .reduce((obj: any, key) => {\r\n            obj[key] = data[key];\r\n            return obj;\r\n        }, {});\r\n};\r\n\r\nconst filterNodeExtraAttr = (data: any) => {\r\n    return filterExtraAttr(data, [\"label\", \"id\"]);\r\n};\r\n\r\nconst filterEdgeExtraAttr = (data: any) => {\r\n    return filterExtraAttr(data, [\"from\", \"to\", \"weight\"]);\r\n};\r\n\r\nconst genericEdgesToImmutEdges = (edges: any, nodeMap: NodeMapping = {}): boolean | List<EdgeImmut> => {\r\n    if (edges === null) {\r\n        return false;\r\n    }\r\n\r\n    let newEdges: List<EdgeImmut> = List();\r\n\r\n    if (typeof edges === 'object') {\r\n        edges.forEach((edge: any) => {\r\n            let weight = 0;\r\n            let from = 0;\r\n            let to = 0;\r\n            let extraAttrs = {};\r\n\r\n            if (\"weight\" in edge) {\r\n                weight = parseFloat(edge.weight);\r\n            }\r\n            if (\"from\" in edge) {\r\n                from = nodeMap[edge.from];\r\n            }\r\n            if (\"to\" in edge) {\r\n                to = nodeMap[edge.to];\r\n            }\r\n            if (\"attributes\" in edge) {\r\n                extraAttrs = filterEdgeExtraAttr(edge.attributes);\r\n            }\r\n            else {\r\n                extraAttrs = filterEdgeExtraAttr(edge);\r\n            }\r\n\r\n            newEdges = newEdges.push(new EdgeImmut(from, to, weight, extraAttrs));\r\n        });\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n\r\n    return newEdges;\r\n};\r\n\r\nconst genericNodesToImmutNodes = (nodes: any): boolean | { nodes: Readonly<List<NodeImmut>>; map: { [key: number]: number } } => {\r\n    if (nodes === null) {\r\n        return false;\r\n    }\r\n\r\n    let newNodes: List<NodeImmut> = List();\r\n    const nodeMap: NodeMapping = {};\r\n\r\n    if (typeof nodes === \"number\") {\r\n        // Create the nodes\r\n        for (let i = 0; i < Math.floor(nodes); i++) {\r\n            newNodes = newNodes.set(i, new NodeImmut(i));\r\n            nodeMap[i] = i;\r\n        }\r\n    }\r\n    else if (typeof nodes === 'object') {\r\n        let nodeNum = 0;\r\n        nodes.forEach((n: any) => {\r\n            const id = nodeNum++;\r\n            let label = null;\r\n            let extraAttrs = null;\r\n\r\n            if (\"label\" in n) {\r\n                label = n.label;\r\n            }\r\n            if (\"id\" in n) {\r\n                nodeMap[n.id] = id;\r\n                if (\"label\" in n && n.label === n.id.toString()) {\r\n                    label = id.toString();\r\n                }\r\n            }\r\n            else {\r\n                nodeMap[id] = id;\r\n            }\r\n            if (\"attributes\" in n) {\r\n                extraAttrs = filterNodeExtraAttr(n.attributes);\r\n            }\r\n            else {\r\n                extraAttrs = filterNodeExtraAttr(n);\r\n            }\r\n\r\n            newNodes = newNodes.set(id, new NodeImmut(id, label, extraAttrs));\r\n        });\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n\r\n    return {nodes: Object.freeze(newNodes), map: nodeMap};\r\n};\r\n\r\nexport default class GraphImmut {\r\n    private readonly directed: Readonly<boolean>;\r\n    private readonly weighted: Readonly<boolean>;\r\n    private readonly nodes: Readonly<List<NodeImmut>>;\r\n    private readonly numNodes: Readonly<number>;\r\n    private readonly edges: Readonly<List<EdgeImmut>>;\r\n    private readonly numEdges: Readonly<number>;\r\n\r\n    constructor(nodes: number | Readonly<List<NodeImmut>> | NodeImmutPlain[],\r\n                edges: null | Readonly<List<EdgeImmut>> | EdgeImmutPlain[] = null,\r\n                directed = false, weighted = false) {\r\n        this.directed = Object.freeze(directed);\r\n        this.weighted = Object.freeze(weighted);\r\n        let nodeMap = {};\r\n\r\n        // Make Nodes\r\n        if (typeof nodes === \"number\" || (typeof nodes === \"object\" && !(nodes instanceof List))) {\r\n            const n = genericNodesToImmutNodes(nodes);\r\n            if (typeof n !== \"object\") {\r\n                throw new Error(\"Unable to parse node input!\");\r\n            }\r\n            this.nodes = n.nodes;\r\n            nodeMap = n.map;\r\n        }\r\n        else if (nodes instanceof List) {\r\n            this.nodes = nodes as List<NodeImmut>;\r\n        }\r\n        else {\r\n            throw new Error(\"Illegal type of 'node' input to GraphImmut constructor\");\r\n        }\r\n        this.nodes = Object.freeze(this.nodes);\r\n        this.numNodes = Object.freeze(this.nodes.size);\r\n\r\n        // If we are given edges, add them to the graph\r\n        if (edges !== null && typeof edges === \"object\" && !(edges instanceof List)) {\r\n            const e = genericEdgesToImmutEdges(edges, nodeMap);\r\n            if (typeof e !== \"object\") {\r\n                throw new Error(\"Unable to parse Edge input\");\r\n            }\r\n            this.edges = e;\r\n        }\r\n        else if (edges instanceof List) {\r\n            this.edges = edges as List<EdgeImmut>;\r\n        }\r\n        else {\r\n            this.edges = List();\r\n        }\r\n        this.edges = Object.freeze(this.edges);\r\n        this.numEdges = Object.freeze(this.edges.size);\r\n\r\n        if (new.target === GraphImmut) {\r\n            Object.freeze(this);\r\n        }\r\n    }\r\n\r\n    getNode(id: number, rich = false): NodeImmut | NodeImmutPlain | boolean {\r\n        if (id >= this.numNodes) {\r\n            return false;\r\n        }\r\n        const node = this.nodes.get(id);\r\n        if(typeof node === \"undefined\"){\r\n            return false;\r\n        }\r\n        if (rich) {\r\n            return node;\r\n        }\r\n        return node.toPlain();\r\n    }\r\n\r\n    addNode(data: any = null): GraphImmut {\r\n        if (data === null) {\r\n            data = {};\r\n        }\r\n\r\n        const id = this.numNodes;\r\n        if (!(\"label\" in data)) {\r\n            data.label = id.toString();\r\n        }\r\n\r\n        const extraAttrs = filterNodeExtraAttr(data);\r\n\r\n        return new GraphImmut(this.nodes.set(id, new NodeImmut(id, data.label, extraAttrs)),\r\n            this.edges, this.directed, this.weighted);\r\n    }\r\n\r\n    editNode(id: number, data: any): any {\r\n        if (!this.nodes.has(id)) {\r\n            return false;\r\n        }\r\n\r\n        const extraAttrs = filterNodeExtraAttr(data);\r\n        if (!(\"label\" in data)) {\r\n            data.label = (this.getNode(id, true) as NodeImmut).getLabel();\r\n        }\r\n        return new GraphImmut(this.nodes.set(id, (this.getNode(id, true) as NodeImmut).editNode(data.label, extraAttrs)),\r\n            this.edges, this.directed, this.weighted);\r\n    }\r\n\r\n    deleteNode(id: number): GraphImmut | boolean {\r\n        // Make sure the ID exists\r\n        if (!(id >= 0 && id < this.numNodes)) {\r\n            return false;\r\n        }\r\n\r\n        const nodeMap: NodeMapping = {}; // Map for old IDs to new ones since we're deleting an entry\r\n\r\n        // Remove it from the node list\r\n        let nodeCount = 0;\r\n        const newNodes: List<NodeImmut> = this.nodes\r\n            .filter((n) => {\r\n                if (n.getID() === id) {\r\n                    nodeMap[n.getID()] = -1;\r\n                }\r\n                else {\r\n                    nodeMap[n.getID()] = nodeCount++;\r\n                }\r\n\r\n                return n.getID() !== id;\r\n            })\r\n            .map((node) => {\r\n                let label = node.getLabel();\r\n                if (node.getID().toString() === label) {\r\n                    label = nodeMap[node.getID()].toString();\r\n                }\r\n\r\n                return new NodeImmut(nodeMap[node.getID()], label, node.getAllAttributes());\r\n            }) as List<NodeImmut>;\r\n\r\n        // Remap edges\r\n        const newEdges: List<EdgeImmut> = this.edges\r\n            .filter((edge) => {\r\n                return !(edge.getFrom() === id || edge.getTo() === id);\r\n            })\r\n            .map((edge) => {\r\n                return new EdgeImmut(nodeMap[edge.getFrom()], nodeMap[edge.getTo()], edge.getWeight(), edge.getAllAttributes());\r\n            }) as List<EdgeImmut>;\r\n\r\n        return new GraphImmut(newNodes, newEdges, this.directed, this.weighted);\r\n    }\r\n\r\n    addEdge(from: number, to: number, weight: any = 1): GraphImmut {\r\n        if (!this.weighted) {\r\n            weight = 1; // Ensure that edge weights are 1 if this is an unweighted graph\r\n        }\r\n\r\n        const newEdges = this.edges.push(new EdgeImmut(from, to, parseFloat(weight)));\r\n        return new GraphImmut(this.nodes, newEdges, this.directed, this.weighted);\r\n    }\r\n\r\n    deleteEdge(from: number, to: number, weight: any = null, deleteAll = true): GraphImmut {\r\n        if (weight !== null) {\r\n            weight = parseFloat(weight);\r\n        }\r\n\r\n        let foundOneEdge = false;\r\n        const newEdges: List<EdgeImmut> = this.edges.filter((edge) => {\r\n            // If we're not deleting everything and we have found one edge, then do not filter anymore\r\n            if (foundOneEdge && !deleteAll) {\r\n                return true;\r\n            }\r\n\r\n            // If we have an exact match\r\n            if (edge.getFrom() === from && edge.getTo() === to && (weight === null || edge.getWeight() === weight)) {\r\n                foundOneEdge = true;\r\n                return false; // Remove this edge\r\n            }\r\n\r\n            // If we are undirected, check for opposing matches\r\n            if (!this.directed) {\r\n                if (edge.getFrom() === to && edge.getTo() === from && (weight === null || edge.getWeight() === weight)) {\r\n                    foundOneEdge = true;\r\n                    return false; // Remove this edge\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }) as List<EdgeImmut>;\r\n\r\n        return new GraphImmut(this.nodes, newEdges, this.directed, this.weighted);\r\n    }\r\n\r\n    editEdge(from: number, to: number, newWeight: any, oldWeight: any = null, color: string | null = null): GraphImmut | boolean {\r\n        let foundFirst = false;\r\n\r\n        if (oldWeight !== null) {\r\n            oldWeight = parseFloat(oldWeight);\r\n        }\r\n\r\n        let newEdges = this.edges;\r\n        this.edges.forEach((edge, index) => {\r\n            if (foundFirst) {\r\n                return;\r\n            }\r\n\r\n            if (((edge.getFrom() === from && edge.getTo() === to)\r\n                || (!this.isDirected() && edge.getFrom() === to && edge.getTo() === from))\r\n                && (oldWeight === null || edge.getWeight() === oldWeight)) {\r\n\r\n                if (color !== null) {\r\n                    newEdges = newEdges.set(index,\r\n                        edge.editEdge(newWeight === null ? null : parseFloat(newWeight),\r\n                            {color: color}));\r\n                }\r\n                else {\r\n                    newEdges = newEdges.set(index, edge.editEdge(newWeight === null ? null : parseFloat(newWeight)));\r\n                }\r\n                foundFirst = true;\r\n            }\r\n        });\r\n\r\n        return new GraphImmut(this.nodes, newEdges, this.directed, this.weighted);\r\n    }\r\n\r\n    getAllNodes(rich = false): NodeImmut[] | NodeImmutPlain[] {\r\n        if (rich) {\r\n            return this.nodes.toArray();\r\n        }\r\n        return this.nodes.map((node) => {\r\n            return node.toPlain();\r\n        }).toArray();\r\n    }\r\n\r\n    getAllNodesAsImmutableList(): Readonly<List<NodeImmut>> {\r\n        return this.nodes;\r\n    }\r\n\r\n    getAllEdgesAsImmutableList(): Readonly<List<EdgeImmut>> {\r\n        return this.edges;\r\n    }\r\n\r\n    getAllEdges(rich = false): EdgeImmut[] | EdgeImmutPlain[] {\r\n        if (rich) {\r\n            return this.edges.toArray();\r\n        }\r\n        return this.edges.map((edge) => {\r\n            return edge.toPlain();\r\n        }).toArray();\r\n    }\r\n\r\n    getNumberOfNodes(): number {\r\n        return this.numNodes;\r\n    }\r\n\r\n    getNumberOfEdges(): number {\r\n        return this.numEdges;\r\n    }\r\n\r\n    getAllOutDegrees(): number[] {\r\n        const degrees: number[] = [];\r\n        this.nodes.forEach((_, i) => {\r\n            degrees[i] = 0;\r\n        });\r\n        this.edges.forEach((edge) => {\r\n            if (degrees.includes(edge.getFrom())) {\r\n                degrees[edge.getFrom()]++;\r\n            }\r\n            else {\r\n                degrees[edge.getFrom()] = 1;\r\n            }\r\n        });\r\n\r\n        return degrees;\r\n    }\r\n\r\n    asWeighted(): GraphImmut {\r\n        return new GraphImmut(this.nodes, this.edges.map((edge) => {\r\n            return edge.editEdge(1);\r\n        }) as List<EdgeImmut>, this.directed, true);\r\n    }\r\n\r\n    asUnweighted(): GraphImmut {\r\n        return new GraphImmut(this.nodes, this.edges.map((edge) => {\r\n            return edge.editEdge(1);\r\n        }) as List<EdgeImmut>, this.directed, false);\r\n    }\r\n\r\n    asDirected(doubleEdges = false): GraphImmut {\r\n        if (!doubleEdges) {\r\n            return new GraphImmut(this.nodes, this.edges, true, this.weighted);\r\n        }\r\n\r\n        let newEdges = this.edges;\r\n        this.edges.forEach((edge) => {\r\n            newEdges = newEdges.push(new EdgeImmut(edge.getTo(), edge.getFrom(), edge.getWeight(), edge.getAllAttributes()));\r\n        });\r\n\r\n        return new GraphImmut(this.nodes, newEdges, true, this.weighted);\r\n    }\r\n\r\n    asUndirected(): GraphImmut {\r\n        let newEdges: List<EdgeImmut> = List();\r\n        const addedEdges: { [key: string]: null } = {};\r\n\r\n        this.edges.forEach((edge) => {\r\n            let from = edge.getFrom();\r\n            let to = edge.getTo();\r\n            if (to < from) {\r\n                from = to;\r\n                to = edge.getFrom();\r\n            }\r\n            if (!(`${from}_${to}` in addedEdges)) {\r\n                addedEdges[`${from}_${to}`] = null;\r\n                newEdges = newEdges.push(new EdgeImmut(from, to, edge.getWeight(), edge.getAllAttributes()));\r\n            }\r\n        });\r\n\r\n        return new GraphImmut(this.nodes, newEdges, false, this.weighted);\r\n    }\r\n\r\n    asChangedDirectedWeighted(directed: boolean, weighted: boolean): GraphImmut {\r\n        let G: GraphImmut = this;\r\n        if (directed && !this.directed) {\r\n            G = G.asDirected();\r\n        }\r\n        else if (!directed && this.directed) {\r\n            G = G.asUndirected();\r\n        }\r\n\r\n        if (weighted && !this.weighted) {\r\n            G = G.asWeighted();\r\n        }\r\n        else if (!weighted && this.weighted) {\r\n            G = G.asUnweighted();\r\n        }\r\n\r\n        return G;\r\n    }\r\n\r\n    getNodeAdjacency(id: number): number[] {\r\n        const adj: number[] = [];\r\n        this.edges.forEach((edge) => {\r\n            if (edge.getFrom() === id) {\r\n                adj.push(edge.getTo());\r\n            }\r\n            else if (!this.directed && edge.getTo() === id) {\r\n                adj.push(edge.getFrom());\r\n            }\r\n        });\r\n\r\n        return adj;\r\n    }\r\n\r\n    getFullAdjacency(): number[][] {\r\n        const adj: number[][] = [];\r\n        this.nodes.forEach((n) => {\r\n            adj[n.getID()] = this.getNodeAdjacency(n.getID());\r\n        });\r\n\r\n        return adj;\r\n    }\r\n\r\n    areAdjacent(id1: number, id2: number): boolean {\r\n        return this.getNodeAdjacency(id1).includes(id2);\r\n    }\r\n\r\n    getEdgesBetween(id1: number, id2: number): EdgeImmut[] {\r\n        const edgeList: EdgeImmut[] = [];\r\n        if (id1 >= this.numNodes || id2 >= this.numNodes) {\r\n            return edgeList;\r\n        }\r\n\r\n        this.edges.forEach((edge) => {\r\n            if (!this.directed && edge.getFrom() === id2 && edge.getTo() === id1) {\r\n                edgeList.push(edge);\r\n            }\r\n\r\n            if (edge.getFrom() === id1 && edge.getTo() === id2) {\r\n                edgeList.push(edge);\r\n            }\r\n        });\r\n\r\n        return edgeList;\r\n    }\r\n\r\n    getMinWeightEdgeBetween(id1: number, id2: number): number {\r\n        let minWeight = Infinity;\r\n        this.getEdgesBetween(id1, id2).forEach((edge) => {\r\n            if (edge.getWeight() < minWeight) {\r\n                minWeight = edge.getWeight();\r\n            }\r\n        });\r\n\r\n        return minWeight;\r\n    }\r\n\r\n    // Take a multigraph and reduce all multiple edges to a single edge, weighted using the reducer\r\n    reduceMultiGraph(reducer: (a: number, b: number) => number = Math.min, initialValue: any = Infinity): GraphImmut {\r\n        const multiEdges: EdgeImmutPlain[] = [];\r\n        this.nodes.forEach((node) => {\r\n            // If we have duplicates\r\n            const adj = this.getNodeAdjacency(node.getID());\r\n            const uniques = new Set(adj);\r\n            if (uniques.size < adj.length) {\r\n                uniques.forEach((to) => {\r\n                    const newWeight = this.getEdgesBetween(node.getID(), to).reduce((acc, edge) => {\r\n                        return reducer(acc, edge.getWeight());\r\n                    }, initialValue);\r\n\r\n                    multiEdges.push({from: node.getID(), to, weight: parseFloat(newWeight)});\r\n                });\r\n            }\r\n        });\r\n\r\n        // Remove all multigraph edges and replace them with single new edges\r\n        let newEdges = this.edges.filter((edge) => {\r\n            let keep = true;\r\n            multiEdges.forEach((duplicateEdge) => {\r\n                if (edge.getFrom() === duplicateEdge.from && edge.getTo() === duplicateEdge.to) {\r\n                    keep = false;\r\n                }\r\n            });\r\n\r\n            return keep;\r\n        }) as List<EdgeImmut>;\r\n        multiEdges.forEach((edge) => {\r\n            newEdges = newEdges.push(new EdgeImmut(edge.from, edge.to, edge.weight));\r\n        });\r\n\r\n        return new GraphImmut(this.nodes, newEdges, this.directed, this.weighted);\r\n    }\r\n\r\n    isWeighted() {\r\n        return this.weighted;\r\n    }\r\n\r\n    isDirected() {\r\n        return this.directed;\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\nexport interface NodeImmutPlain {\r\n    id: Readonly<number>;\r\n    label: string;\r\n    [key: string]: any;\r\n    [key: number]: any;\r\n}\r\n\r\nexport default class NodeImmut {\r\n    private readonly id: Readonly<number>;\r\n    private readonly label: Readonly<string>;\r\n    private readonly attributes: any;\r\n\r\n    constructor(id: any, label: null | string = null, extraAttrs: null | any = null) {\r\n        if (label === null) {\r\n            this.label = id.toString();\r\n        } else {\r\n            this.label = label;\r\n        }\r\n\r\n        this.attributes = {};\r\n        if (extraAttrs !== null && typeof extraAttrs === \"object\") {\r\n            Object.keys(extraAttrs).forEach(key => {\r\n                this.attributes[key] = Object.freeze(extraAttrs[key]);\r\n            });\r\n        }\r\n\r\n        this.attributes = Object.freeze(this.attributes);\r\n        this.label = Object.freeze(this.label);\r\n        this.id = Object.freeze(id);\r\n\r\n        if (new.target === NodeImmut) {\r\n            Object.freeze(this);\r\n        }\r\n    }\r\n\r\n    toPlain(): NodeImmutPlain {\r\n        const toReturn: NodeImmutPlain = { id: this.id, label: this.label };\r\n        Object.keys(this.attributes).forEach(key => {\r\n            if (!(key in toReturn)) {\r\n                toReturn[key] = this.attributes[key];\r\n            }\r\n        });\r\n\r\n        return toReturn;\r\n    }\r\n\r\n    getID(): Readonly<number> {\r\n        return this.id;\r\n    }\r\n\r\n    getLabel(): Readonly<string> {\r\n        return this.label;\r\n    }\r\n\r\n    getAttribute(attribute: string | number): any {\r\n        if (attribute in this.attributes) {\r\n            return this.attributes[attribute];\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    getAllAttributes(): { [key: string]: any; [key: number]: any } {\r\n        return this.attributes;\r\n    }\r\n\r\n    editNode(label: any = null, extraAttrs: any = null): NodeImmut {\r\n        if (label === null) {\r\n            label = this.getLabel();\r\n        }\r\n\r\n        // Merge existing and new attributes favoring the new\r\n        const attributes = Object.assign({}, this.attributes);\r\n        if (extraAttrs !== null) {\r\n            Object.keys(extraAttrs).forEach(key => {\r\n                attributes[key] = extraAttrs[key];\r\n            });\r\n        }\r\n\r\n        return new NodeImmut(this.getID(), label, attributes);\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\nimport { DataSet } from 'vis-data';\r\nimport { Node, Edge } from 'vis-network';\r\nimport help from './util/genericHelpers';\r\nimport GraphImmut from './classes/GraphImmut/GraphImmut';\r\nimport { EdgeImmutPlain } from \"./classes/GraphImmut/EdgeImmut\";\r\nimport NodeImmut, { NodeImmutPlain } from \"./classes/GraphImmut/NodeImmut\";\r\nimport { GraphPlain } from \"./util/predefinedGraphs\";\r\n\r\ninterface UpToDateProperties {\r\n    name: string;\r\n    upToDate: boolean;\r\n    type: string;\r\n    always?: boolean;\r\n    applyFunc?: (ignoreDuplicate?: boolean) => any;\r\n    [index: string]: undefined | string | boolean | ((ignoreDuplicate?: boolean) => any)\r\n}\r\n\r\ninterface GraphProperties {\r\n    vertices: number;\r\n    edges: number;\r\n    eulerian: boolean;\r\n    \"Chromatic Number\": number | null;\r\n    \"Connected Components\": number | null;\r\n    \"Strongly Connected Components\": number | null;\r\n    cyclic: boolean;\r\n\r\n    [index: string]: boolean | number | null;\r\n}\r\n\r\ninterface GraphStateData {\r\n    stronglyConnectedComponents: null | { [key: number]: number };\r\n    connectedComponents: null | { [key: number]: number };\r\n    graphColoring: null | number[];\r\n\r\n    [index: string]: null | number[] | { [key: number]: number };\r\n}\r\n\r\nexport interface AddNodeI {\r\n    id?: number\r\n    label: string;\r\n    x: number;\r\n    y: number;\r\n    color?: string;\r\n}\r\n\r\nexport interface GraphStateHistory {\r\n    upToDate: UpToDateProperties[];\r\n    state: GraphStateData;\r\n    graph: GraphImmut;\r\n    graphProperties: GraphProperties;\r\n    [index: string]: UpToDateProperties[] | GraphStateData | GraphImmut | GraphProperties;\r\n}\r\n\r\nconst getInt = (v: string | number): number => {\r\n    if (typeof v === 'number') {\r\n        return v;\r\n    }\r\n    return parseInt(v);\r\n};\r\n\r\nexport default class GraphState {\r\n    public static workerPool: (Worker | null)[] = [];\r\n    public static backHistory: GraphStateHistory[] = [];\r\n    public static forwardHistory: GraphStateHistory[] = [];\r\n    public static maxHistory = 10;\r\n    public static upToDate: UpToDateProperties[] = [\r\n        {\r\n            name: \"Chromatic Number\", upToDate: false, type: \"property\",\r\n            applyFunc: () => {\r\n                return window.ui.makeAndPrintGraphColoring();\r\n            }\r\n        },\r\n        {\r\n            name: \"graphColoring\", upToDate: false, type: \"state\",\r\n            applyFunc: () => {\r\n                return window.ui.makeAndPrintGraphColoring();\r\n            }\r\n        },\r\n        { name: \"vertices\", upToDate: true, always: true, type: \"property\" },\r\n        { name: \"edges\", upToDate: true, always: true, type: \"property\" },\r\n        {\r\n            name: \"eulerian\", upToDate: false, type: \"property\",\r\n            applyFunc: (i) => {\r\n                return window.ui.makeAndPrintEulerian(i);\r\n            }\r\n        },\r\n        {\r\n            name: \"Connected Components\", upToDate: false, type: \"property\",\r\n            applyFunc: () => {\r\n                window.ui.getAlgorithms().find((v) => v.name === 'Connected Components')!.applyFunc();\r\n            }\r\n        },\r\n        {\r\n            name: \"connectedComponents\", upToDate: false, type: \"state\",\r\n            applyFunc: () => {\r\n                window.ui.getAlgorithms().find((v) => v.name === 'Connected Components')!.applyFunc();\r\n            }\r\n        },\r\n        {\r\n            name: \"Strongly Connected Components\", upToDate: false, type: \"property\",\r\n            applyFunc: () => {\r\n                window.ui.getAlgorithms().find((v) => v.name === 'Strongly Connected Components')!.applyFunc();\r\n            }\r\n        },\r\n        {\r\n            name: \"stronglyConnectedComponents\", upToDate: false, type: \"state\",\r\n            applyFunc: () => {\r\n                window.ui.getAlgorithms().find((v) => v.name === 'Strongly Connected Components')!.applyFunc();\r\n            }\r\n        },\r\n        {\r\n            name: \"cyclic\", upToDate: false, type: \"property\",\r\n            applyFunc: () => {\r\n                return window.ui.makeAndPrintIsCyclic();\r\n            }\r\n        },\r\n    ];\r\n    public static state: GraphStateData = {\r\n        stronglyConnectedComponents: null,\r\n        connectedComponents: null,\r\n        graphColoring: null,\r\n    };\r\n    public static graph: GraphImmut;\r\n    public static graphProperties: GraphProperties = {\r\n        vertices: 0,\r\n        edges: 0,\r\n        eulerian: false,\r\n        \"Chromatic Number\": null,\r\n        \"Connected Components\": null,\r\n        \"Strongly Connected Components\": null,\r\n        cyclic: false,\r\n    };\r\n\r\n    static setUpToDate(value = false, listOptions?: string[]) {\r\n        const all = listOptions === null || typeof listOptions === \"undefined\";\r\n        let property = false;\r\n        GraphState.upToDate.forEach((v) => {\r\n            if ((!(\"always\" in v) || !v.always) && (all || listOptions!.indexOf(v.name) > -1)) {\r\n                v.upToDate = value;\r\n                if (v.type === \"property\") {\r\n                    property = true;\r\n                }\r\n            }\r\n        });\r\n        if (property) {\r\n            GraphState.makeAndPrintProperties();\r\n        }\r\n    }\r\n\r\n    static async getProperty(property: keyof GraphProperties, updateIfNotUpdated = false, ignoreDuplicate = false): Promise<any> {\r\n        const a = GraphState.upToDate.find((v) => {\r\n            return (\"name\" in v && v.name === property);\r\n        })!;\r\n        if (!a.upToDate) {\r\n            if (\"applyFunc\" in a && typeof a.applyFunc === \"function\" && updateIfNotUpdated) {\r\n                await a.applyFunc(ignoreDuplicate);\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        if (a.type === \"state\") {\r\n            return Promise.resolve(GraphState.state[property]);\r\n        }\r\n        return Promise.resolve(GraphState.graphProperties[property]);\r\n    }\r\n\r\n    static async makeAndPrintProperties(recalcLong = false) {\r\n        const directional = window.settings.getOption(\"direction\");\r\n\r\n        GraphState.graphProperties.vertices = GraphState.graph.getNumberOfNodes();\r\n        GraphState.graphProperties.edges = GraphState.graph.getNumberOfEdges();\r\n\r\n        if (!directional) {\r\n            await GraphState.getProperty(\"eulerian\", true, true);\r\n        }\r\n\r\n        const p = Object.keys(GraphState.graphProperties);\r\n        if (recalcLong) {\r\n            p.forEach(async (v) => {\r\n                await GraphState.getProperty(v, true);\r\n            });\r\n        }\r\n\r\n        const printableProperties: any = {};\r\n        await Promise.all(p.map(async (v) => {\r\n            printableProperties[v] = await GraphState.getProperty(v);\r\n        }));\r\n\r\n        GraphState.printGraphProperties(printableProperties);\r\n    }\r\n\r\n    static printGraphProperties(properties: any) {\r\n        let p = \"\";\r\n        Object.keys(properties).forEach((k) => {\r\n            if (properties[k] !== null) {\r\n                p += `${help.toTitleCase(k)}: ${properties[k]}\\n`;\r\n            }\r\n        });\r\n        p = p.trim();\r\n        p = help.htmlEncode(p);\r\n        document.getElementById(\"graphProps\")!.innerHTML = `<p class='nav-link'>${p}</p>`;\r\n    }\r\n\r\n    private static updateGraph(graph = GraphState.graph) {\r\n        let nodes = graph.getAllNodes() as NodeImmutPlain[];\r\n        let edges = graph.getAllEdges() as EdgeImmutPlain[];\r\n        if (!window.settings.getOption(\"customColors\")) {\r\n            nodes = GraphState.clearColorFromNodes(nodes);\r\n            edges = GraphState.clearColorFromEdges(edges);\r\n        }\r\n        window.main.setData({ nodes, edges });\r\n    }\r\n\r\n    static addEdge(from: number | string, to: number | string, weight = 0, graph = GraphState.graph) {\r\n        const edgeFrom = getInt(from);\r\n        const edgeTo = getInt(to);\r\n        graph = graph.addEdge(edgeFrom, edgeTo, weight);\r\n        this.updateGraph(graph);\r\n    }\r\n\r\n    static addNode(data: AddNodeI, graph = GraphState.graph) {\r\n        graph = graph.addNode({ label: data.label, x: data.x, y: data.y, color: data.color });\r\n        this.updateGraph(graph);\r\n    }\r\n\r\n    static editNode(id: number | string, label: string, color?: string, graph = GraphState.graph) {\r\n        const iId = getInt(id);\r\n        graph = graph.editNode(iId, { label, color });\r\n        window.main.setData(GraphState.getGraphData(graph), false, false);\r\n    }\r\n\r\n    static editEdge(from: number | string, to: number | string,\r\n        newWeight: number, oldWeight: number, graph = GraphState.graph) {\r\n        const edgeFrom = getInt(from);\r\n        const edgeTo = getInt(to);\r\n        const newGraph = graph.editEdge(edgeFrom, edgeTo, newWeight, oldWeight);\r\n        if (newGraph instanceof GraphImmut) {\r\n            window.main.setData(GraphState.getGraphData(newGraph), false, false);\r\n        }\r\n    }\r\n\r\n    static deleteEdge(from: number | string, to: number | string, weight: (undefined | null | number) = null, graph = GraphState.graph) {\r\n        const edgeFrom = getInt(from);\r\n        const edgeTo = getInt(to);\r\n        graph = graph.deleteEdge(edgeFrom, edgeTo, weight, false);\r\n        this.updateGraph(graph);\r\n    }\r\n\r\n    static deleteNode(id: number | string, graph = GraphState.graph) {\r\n        const iId = getInt(id);\r\n        const newGraph = graph.deleteNode(iId);\r\n        if (newGraph instanceof GraphImmut) {\r\n            this.updateGraph(newGraph);\r\n        }\r\n    }\r\n\r\n    static clearColorFromNodes(nodes: NodeImmutPlain[]): NodeImmutPlain[] {\r\n        nodes.forEach((v) => {\r\n            v.color = null;\r\n        });\r\n        return nodes;\r\n    }\r\n\r\n    static clearColorFromEdges(edges: EdgeImmutPlain[]): EdgeImmutPlain[] {\r\n        edges.forEach((v) => {\r\n            delete v.color;\r\n        });\r\n        return edges;\r\n    }\r\n\r\n    static nodeIDToLabel(id: number, graph = GraphState.graph): string {\r\n        const n = graph.getNode(id, true);\r\n        if (n !== false && n !== null && n instanceof NodeImmut && n.getLabel().trim().length > 0) {\r\n            return n.getLabel().trim();\r\n        }\r\n\r\n        return id.toString();\r\n    }\r\n\r\n    // Preferentially search by ID, label, and case-insensitive label\r\n    static nodeLabelToID(label: string, graph = GraphState.graph) {\r\n        let n = graph.getAllNodes(true) as NodeImmut[];\r\n        n = n.filter((node) => {\r\n            return node.getLabel().toLowerCase() === label.toLowerCase() || node.getID().toString() === label;\r\n        });\r\n\r\n        if (n.length === 0) {\r\n            return -1;\r\n        }\r\n        else if (n.length === 1) {\r\n            return n[0].getID();\r\n        }\r\n\r\n        let rID = -1;\r\n        let found = false;\r\n\r\n        n.forEach((node) => {\r\n            if (!found && node.getID().toString() === label) {\r\n                rID = node.getID();\r\n                found = true;\r\n            }\r\n        });\r\n\r\n        if (found) {\r\n            return rID;\r\n        }\r\n\r\n        n.forEach((node) => {\r\n            if (!found && node.getLabel() === label) {\r\n                rID = node.getID();\r\n                found = true;\r\n            }\r\n        });\r\n\r\n        if (found) {\r\n            return rID;\r\n        }\r\n\r\n        n.forEach((node) => {\r\n            if (!found && node.getLabel().toLowerCase() === label.toLowerCase()) {\r\n                rID = node.getID();\r\n                found = true;\r\n            }\r\n        });\r\n\r\n        return rID;\r\n    }\r\n\r\n    // Return graph as a Vis compatible dataset\r\n    static getGraphAsDataSet(graph: GraphImmut): { nodes: DataSet<Node>; edges: DataSet<Edge> } {\r\n        const d = GraphState.getGraphData(graph);\r\n        if (graph.isWeighted()) {\r\n            d.edges.forEach((e) => {\r\n                e.label = e.weight.toString();\r\n            });\r\n        }\r\n        d.edges.forEach((e) => {\r\n            if ('color' in e) {\r\n                e.color = { color: e.color };\r\n            }\r\n        });\r\n\r\n        return { nodes: new DataSet(d.nodes as Node[]), edges: new DataSet(d.edges as Edge[]) };\r\n    }\r\n\r\n    static setLocations(locations: { [key: string]: { x: number; y: number } }, graph = GraphState.graph): GraphImmut {\r\n        let newNodes = graph.getAllNodesAsImmutableList();\r\n        Object.keys(locations).forEach((i) => {\r\n            const v = locations[i];\r\n            const node = newNodes.get(parseInt(i))!;\r\n            // Only change when there is actually a new position\r\n            if (node.getAttribute(\"x\") !== v.x || node.getAttribute(\"y\") !== v.y) {\r\n                // Batch up all changes that we'll be making\r\n                newNodes = newNodes.set(parseInt(i), node.editNode(node.getLabel(), { x: v.x, y: v.y }));\r\n            }\r\n        });\r\n\r\n        return new GraphImmut(newNodes, graph.getAllEdgesAsImmutableList(), graph.isDirected(), graph.isWeighted());\r\n    }\r\n\r\n    static getGraphData(graph = GraphState.graph, clearNodeColors = false, clearEdgeColors = false): GraphPlain {\r\n        const nodes = graph.getAllNodes() as NodeImmutPlain[];\r\n        const edges = graph.getAllEdges() as EdgeImmutPlain[];\r\n        return {\r\n            nodes: clearNodeColors ? GraphState.clearColorFromNodes(nodes) : nodes,\r\n            edges: clearEdgeColors ? GraphState.clearColorFromEdges(edges) : edges,\r\n            directed: graph.isDirected(),\r\n            weighted: graph.isWeighted()\r\n        };\r\n    }\r\n}\r\n","import EN_US from \"src/EN_US\";\r\n\r\nexport enum Languages {\r\n    EN_US = \"EN_US\",\r\n\r\n}\r\n\r\nexport let current = {} as typeof EN_US;\r\n\r\n\r\nexport const setLanguage = async () => {\r\n    current = (await import(`../${window.settings.getOption(\"language\") || Languages.EN_US}.ts`)).default;\r\n};\r\n","\"use strict\";\r\n\r\nimport help, { ModalFormRow } from './util/genericHelpers';\r\nimport randomColor from 'randomcolor';\r\nimport GraphState, { AddNodeI, GraphStateHistory } from './graphState';\r\nimport GraphImmut from \"./classes/GraphImmut/GraphImmut\";\r\nimport { NodeImmutPlain } from \"./classes/GraphImmut/NodeImmut\";\r\nimport { EdgeImmutPlain } from \"./classes/GraphImmut/EdgeImmut\";\r\nimport { GraphPlain } from \"./util/predefinedGraphs\";\r\nimport { Network, Node as VisNode, Edge } from \"vis-network\";\r\nimport { DataSet } from \"vis-data\";\r\nimport * as languages from \"./languages\";\r\n\r\n\r\nexport interface MainI {\r\n    graphState: typeof GraphState;\r\n    container: HTMLElement;\r\n    visWeightEdgeEdit: (data: VisEditEdgeInternal, callback: Function) => void;\r\n    visOptions: {\r\n        interaction: { hover: boolean };\r\n        manipulation: {\r\n            addNode: (data: AddNodeI, callback: Function) => void;\r\n            editNode: (data: AddNodeI, callback: Function) => void;\r\n            addEdge: (data: VisEdgeInternal, callback?: Function) => void;\r\n            editEdge: (data: VisEdgeInternal, callback: Function) => void;\r\n            deleteEdge: (data: { edges: string[] }, callback?: Function) => void;\r\n            deleteNode: (data: { nodes: string[] }, callback: Function) => void\r\n        },\r\n        locale?: string,\r\n        locales?: any,\r\n    };\r\n    cancelEdit: (callback: Function) => void;\r\n    saveData: (data: any, callback: Function, operation: string, label: string, color: string) => Promise<void>;\r\n    nodeLabelIDValidator: (v: string) => (boolean | string);\r\n    applyColors: () => Promise<void>;\r\n    setData: (data: GraphPlain, recalcProps?: boolean, graphChanged?: boolean, rearrangeGraph?: boolean) => void;\r\n    saveState: () => void;\r\n    getStateForSaving: () => GraphStateHistory;\r\n    undo: () => void;\r\n    redo: () => void;\r\n    applyState: (undo?: boolean, newState?: any) => void;\r\n    saveStateLocalStorage: () => void;\r\n    shuffleNetworkLayout: () => void;\r\n    randomizeNetworkLayoutSeed: (network: VisNetworkInternals) => void;\r\n    addNetworkListeners: (network: Network) => void\r\n}\r\n\r\ninterface VisNetworkEvent {\r\n    edges: DataSet<Edge>;\r\n    nodes: DataSet<VisNode>;\r\n}\r\n\r\ninterface VisNetworkInternals extends Network {\r\n    layoutEngine: {\r\n        randomSeed: number,\r\n        initialRandomSeed: number\r\n    }\r\n}\r\n\r\ninterface VisEditEdgeInternal {\r\n    from: { id: string | number };\r\n    to: { id: string | number };\r\n    label?: string\r\n}\r\n\r\ninterface VisEdgeInternal {\r\n    from: string | number;\r\n    to: string | number;\r\n    id: string;\r\n    label?: string\r\n}\r\n\r\nconst customColorPallete = {\r\n    \"Default\": \"DEFAULT\",\r\n    \"Red\": \"red\",\r\n    \"Maroon\": \"maroon\",\r\n    \"Yellow\": \"yellow\",\r\n    \"Olive\": \"olive\",\r\n    \"Lime\": \"lime\",\r\n    \"Green\": \"green\",\r\n    \"Aqua\": \"aqua\",\r\n    \"Teal\": \"teal\",\r\n    \"Blue\": \"blue\",\r\n    \"Navy\": \"navy\",\r\n    \"Fuchsia\": \"fuchsia\",\r\n    \"Purple\": \"purple\",\r\n};\r\n\r\nconst self: MainI = {\r\n    graphState: GraphState,\r\n    container: document.getElementById('network')!,\r\n    // Function used to overwrite the edge edit functionality when weights are active\r\n    visWeightEdgeEdit: (data: VisEditEdgeInternal, callback) => {\r\n        help.showFormModal(($modal, vals) => {\r\n            callback(null);\r\n            $modal.modal(\"hide\");\r\n            const value = parseFloat(vals[0]);\r\n            GraphState.editEdge(data.from.id, data.to.id, value, parseFloat(data.label!));\r\n        }, languages.current.EditEdge, languages.current.Save, [\r\n            {\r\n                type: \"numeric\",\r\n                label: languages.current.WeightCapacity,\r\n                initialValue: parseFloat(data.label!)\r\n            }\r\n        ]);\r\n    },\r\n    visOptions: {\r\n        interaction: { hover: true },\r\n        manipulation: {\r\n            addNode: async (data, callback) => {\r\n                const customColors = window.settings.getOption(\"customColors\");\r\n                const options: ModalFormRow[] = [\r\n                    {\r\n                        type: \"html\",\r\n                        initialValue: `<p>${help.stringReplacement(languages.current.NodeId, await GraphState.getProperty(\"vertices\"))}</p>`\r\n                    },\r\n                    { type: \"text\", label: languages.current.LabelLabel, initialValue: await GraphState.getProperty(\"vertices\") },\r\n                ];\r\n                if (customColors) {\r\n                    options.push({ type: \"select\", label: languages.current.Color, optionText: Object.keys(customColorPallete), optionValues: Object.values(customColorPallete) });\r\n                }\r\n                const $popup = help.makeFormModal(languages.current.AddNode, languages.current.Save, options);\r\n\r\n                $popup.on(\"click\", \".btn-success\", () => {\r\n                    $popup.modal(\"hide\");\r\n                    self.saveData(data, callback, \"add\", $popup.find(\"input\").first().val() as string, $popup.find(\"select\").first().val() as string);\r\n                }).on(\"click\", \".btn-cancel\", () => {\r\n                    $popup.modal(\"hide\");\r\n                    self.cancelEdit(callback);\r\n                }).on(\"hidden.bs.modal\", () => {\r\n                    $popup.remove();\r\n                    self.cancelEdit(callback);\r\n                }).modal(\"show\");\r\n            },\r\n            editNode: (data, callback) => {\r\n                const customColors = window.settings.getOption(\"customColors\");\r\n                const initialColor = Object.getOwnPropertyNames(data.color).includes(\"background\") ? (data.color as any).background : \"DEFAULT\";\r\n\r\n                const options: ModalFormRow[] = [\r\n                    {\r\n                        type: \"html\",\r\n                        initialValue: `<p>${help.stringReplacement(languages.current.NodeId, data.id + \"\")}</p>`\r\n                    },\r\n                    { type: \"text\", label: languages.current.LabelLabel, initialValue: data.label },\r\n                ];\r\n                if (customColors) {\r\n                    options.push({ type: \"select\", label: languages.current.Color, optionText: Object.keys(customColorPallete), optionValues: Object.values(customColorPallete), initialValue: initialColor });\r\n                }\r\n                const $popup = help.makeFormModal(languages.current.EditNode, languages.current.Save, options);\r\n\r\n                $popup.on(\"click\", \".btn-success\", () => {\r\n                    $popup.modal(\"hide\");\r\n                    self.saveData(data, callback, \"editNode\", $popup.find(\"input\").first().val() as string, $popup.find(\"select\").first().val() as string);\r\n                }).on(\"click\", \".btn-cancel\", () => {\r\n                    $popup.modal(\"hide\");\r\n                    self.cancelEdit(callback);\r\n                }).on(\"hidden.bs.modal\", () => {\r\n                    $popup.remove();\r\n                    self.cancelEdit(callback);\r\n                }).modal(\"show\");\r\n            },\r\n            addEdge: (data, callback) => {\r\n                const apply = () => {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(null);\r\n                    }\r\n                    GraphState.addEdge(data.from, data.to);\r\n                };\r\n                if (data.from === data.to) {\r\n                    if (confirm(languages.current.ConnectNodeToItselfConfirmation)) {\r\n                        apply();\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                apply();\r\n            },\r\n            editEdge: (data, callback) => {\r\n                callback(null);\r\n                self.visOptions.manipulation.deleteEdge({ edges: [data.id] });\r\n                self.visOptions.manipulation.addEdge(data);\r\n            },\r\n            deleteEdge: (data, callback) => {\r\n                if (typeof callback === \"function\") {\r\n                    callback(null);\r\n                }\r\n                data.edges.forEach((v: any) => {\r\n                    let weight = null;\r\n                    const edge = (window.network as any).body.data.edges.get(v);\r\n                    const weightFromLabel = edge.label;\r\n                    if (typeof weightFromLabel !== \"undefined\") {\r\n                        weight = parseFloat(weightFromLabel);\r\n                    }\r\n\r\n                    GraphState.deleteEdge(edge.from, edge.to, weight);\r\n                });\r\n            },\r\n            deleteNode: (data, callback) => {\r\n                callback(null);\r\n                data.nodes.forEach((v: string) => {\r\n                    GraphState.deleteNode(v);\r\n                });\r\n            },\r\n        },\r\n    },\r\n\r\n    cancelEdit: (callback) => {\r\n        if (typeof callback === \"function\") {\r\n            callback(null);\r\n        }\r\n    },\r\n\r\n    saveData: async (data, callback, operation, label, color) => {\r\n        callback(null);\r\n\r\n        data.label = label;\r\n        data.color = color;\r\n        if (color === \"DEFAULT\") {\r\n            data.color = undefined;\r\n        }\r\n        if (operation === \"add\") {\r\n            GraphState.addNode(data);\r\n        }\r\n        else if (operation === \"editNode\") {\r\n            GraphState.editNode(data.id, data.label, data.color);\r\n        }\r\n    },\r\n\r\n    nodeLabelIDValidator: (v) => {\r\n        if (GraphState.nodeLabelToID(v) > -1) {\r\n            return true;\r\n        }\r\n        return languages.current.InvalidLabelOrId;\r\n    },\r\n\r\n    applyColors: async () => {\r\n        if (window.settings.getOption(\"direction\")) {\r\n            return;\r\n        }\r\n        const graphColors = await GraphState.getProperty(\"graphColoring\", true);\r\n        const chromaticNumber = await GraphState.getProperty(\"Chromatic Number\", true);\r\n\r\n        const colors = randomColor({ count: chromaticNumber, luminosity: \"light\" });\r\n        let G = GraphState.graph;\r\n        (G.getAllNodes() as NodeImmutPlain[]).forEach((v) => {\r\n            G = G.editNode(v.id, { color: colors[graphColors[v.id]] });\r\n        });\r\n        self.setData(GraphState.getGraphData(G), false, false);\r\n    },\r\n\r\n    setData: (data, recalcProps = false, graphChanged = true, rearrangeGraph = false) => {\r\n        // Store existing positions in the data if we're supposed to keep the layout\r\n        if (rearrangeGraph) {\r\n            data.nodes.forEach((v) => {\r\n                delete v.x;\r\n                delete v.y;\r\n            });\r\n        }\r\n\r\n        if (graphChanged) {\r\n            self.saveState();\r\n        }\r\n\r\n        if (\"directed\" in data && typeof data.directed !== \"undefined\") {\r\n            window.settings.changeOption(\"direction\", data.directed);\r\n        }\r\n        if (\"weighted\" in data && typeof data.weighted !== \"undefined\") {\r\n            window.settings.changeOption(\"weights\", data.weighted);\r\n        }\r\n        const directional = window.settings.getOption(\"direction\") as boolean;\r\n        const weighted = window.settings.getOption(\"weights\") as boolean;\r\n\r\n        const g = new GraphImmut(data.nodes, data.edges, directional, weighted);\r\n        GraphState.graph = g;\r\n\r\n        // Set a new random seed so that the layout will be different\r\n        self.randomizeNetworkLayoutSeed(window.network as unknown as VisNetworkInternals);\r\n        window.network.setData(GraphState.getGraphAsDataSet(g));\r\n        GraphState.graph = GraphState.setLocations(window.network.getPositions());\r\n\r\n        window.network.disableEditMode();\r\n        window.network.enableEditMode();\r\n\r\n        if (graphChanged) {\r\n            window.ui.stopLoadingAnimation();\r\n            window.ui.isRunning = {};\r\n            window.ui.terminateAllWebWorkers();\r\n            window.ui.printGraphAlgorithms();\r\n            help.printout(\"\");\r\n            GraphState.setUpToDate();\r\n            GraphState.makeAndPrintProperties(recalcProps);\r\n        }\r\n\r\n        self.saveStateLocalStorage();\r\n    },\r\n\r\n    saveState: () => {\r\n        if (GraphState.graph === null) {\r\n            return;\r\n        }\r\n\r\n        if (GraphState.backHistory.length >= GraphState.maxHistory) {\r\n            GraphState.backHistory.shift();\r\n        }\r\n\r\n        GraphState.backHistory.push(self.getStateForSaving());\r\n        GraphState.forwardHistory = [];\r\n        document.getElementsByClassName(\"icon-undo\")!.item(0)!.parentElement!.parentElement!.classList.add(\"active\");\r\n    },\r\n\r\n    getStateForSaving: () => {\r\n        const state: any = {};\r\n        Object.keys(GraphState).forEach((k: string) => {\r\n            const v: any = (GraphState as any)[k];\r\n            if (typeof v !== \"function\") {\r\n                if (typeof v !== \"object\") {\r\n                    state[k] = v;\r\n                }\r\n                else {\r\n                    if (k === \"graph\" && v !== null) {\r\n                        state[k] = v;\r\n                    }\r\n                    if (!k.toLowerCase().includes(\"history\")) {\r\n                        state[k] = help.deepCopy(true, Array.isArray(v) ? [] : {}, v);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        return state as GraphStateHistory;\r\n    },\r\n\r\n    undo: () => {\r\n        if (GraphState.backHistory.length > 0) {\r\n            self.applyState(true);\r\n        }\r\n    },\r\n\r\n    redo: () => {\r\n        if (GraphState.forwardHistory.length > 0) {\r\n            self.applyState(false);\r\n        }\r\n    },\r\n\r\n    applyState: (undo = true, newState: null | GraphStateHistory = null) => {\r\n        const firstLoad = newState !== null;\r\n        const currentState = self.getStateForSaving();\r\n\r\n        if (!firstLoad) {\r\n            if (undo) {\r\n                newState = GraphState.backHistory.pop()!;\r\n            }\r\n            else {\r\n                newState = GraphState.forwardHistory.pop()!;\r\n            }\r\n        }\r\n\r\n        //@ts-ignore Ignore accessing private props. I do this because saving the state lost the type of the data\r\n        newState.graph = new GraphImmut(newState.graph.nodes, newState.graph.edges, newState.graph.directed, newState.graph.weighted);\r\n\r\n        window.settings.changeOption(\"direction\", newState!.graph.isDirected());\r\n        window.settings.changeOption(\"weights\", newState!.graph.isWeighted());\r\n\r\n        GraphState.graph = newState!.graph;\r\n\r\n        window.network.setData(GraphState.getGraphAsDataSet(GraphState.graph));\r\n        window.network.disableEditMode();\r\n        window.network.enableEditMode();\r\n\r\n        window.ui.printGraphAlgorithms();\r\n        help.printout(\"\");\r\n\r\n        Object.keys(newState!).forEach((k: string) => {\r\n            const v = newState![k];\r\n            if (typeof v !== \"object\") {\r\n                (GraphState as any)[k] = v;\r\n            }\r\n            else if (!k.toLowerCase().includes(\"history\") && k.toLowerCase() !== \"graph\") {\r\n                if (k.toLowerCase() === \"uptodate\") {\r\n                    Object.keys((GraphState as any)[k]).forEach((oldKey) => {\r\n                        (GraphState as any)[k][oldKey].upToDate = (v as any)[oldKey].upToDate;\r\n                    });\r\n                }\r\n                else {\r\n                    (GraphState as any)[k] = help.deepCopy(true, (GraphState as any)[k], v);\r\n                }\r\n            }\r\n        });\r\n\r\n        GraphState.makeAndPrintProperties().then(() => {\r\n            if (undo && !firstLoad) {\r\n                document.getElementsByClassName(\"icon-redo\")!.item(0)!.parentElement!.parentElement!.classList.add(\"active\");\r\n                if (GraphState.backHistory.length === 0) {\r\n                    document.getElementsByClassName(\"icon-undo\")!.item(0)!.parentElement!.parentElement!.classList.remove(\"active\");\r\n                }\r\n                GraphState.forwardHistory.push(currentState);\r\n            }\r\n            else if (!undo && !firstLoad) {\r\n                document.getElementsByClassName(\"icon-undo\")!.item(0)!.parentElement!.parentElement!.classList.add(\"active\");\r\n                if (GraphState.forwardHistory.length === 0) {\r\n                    document.getElementsByClassName(\"icon-redo\")!.item(0)!.parentElement!.parentElement!.classList.remove(\"active\");\r\n                }\r\n                GraphState.backHistory.push(currentState);\r\n            }\r\n\r\n            self.saveStateLocalStorage();\r\n        });\r\n    },\r\n\r\n    saveStateLocalStorage: () => {\r\n        if (window.settings.checkForLocalStorage()) {\r\n            localStorage.setItem(\"graphPlayground.lastState\", JSON.stringify(self.getStateForSaving()));\r\n        }\r\n    },\r\n\r\n    shuffleNetworkLayout: () => {\r\n        self.setData({\r\n            nodes: GraphState.graph.getAllNodes() as NodeImmutPlain[],\r\n            edges: GraphState.graph.getAllEdges() as EdgeImmutPlain[]\r\n        }, false, false, true);\r\n    },\r\n\r\n    randomizeNetworkLayoutSeed: (network) => {\r\n        const r = Math.round(Math.random() * 1000000);\r\n        network.layoutEngine.randomSeed = r;\r\n        network.layoutEngine.initialRandomSeed = r;\r\n    },\r\n\r\n    addNetworkListeners: (network) => {\r\n        // Enable edit node/edge when double clicking\r\n        network.on(\"doubleClick\", (p: VisNetworkEvent) => {\r\n            if (window.settings.getOption(\"weights\") && \"edges\" in p && p.edges.length === 1) {\r\n                network.editEdgeMode();\r\n            }\r\n            if (\"nodes\" in p && p.nodes.length === 1) {\r\n                network.editNode();\r\n            }\r\n        });\r\n\r\n        // Save locations of nodes after dragging\r\n        network.on(\"dragEnd\", () => {\r\n            GraphState.graph = GraphState.setLocations(network.getPositions());\r\n            self.saveStateLocalStorage(); // Save the new locations as part of the state\r\n        });\r\n\r\n        // Delete nodes/edges when hit \"Delete\"\r\n        let lastNetworkClickEvent: Event | null = null;\r\n        network.on('click', (event) => {\r\n            lastNetworkClickEvent = event;\r\n        });\r\n\r\n        // Delete key to delete node or edge\r\n        document.addEventListener('keyup', (key) => {\r\n            if (key.key === \"Delete\" && lastNetworkClickEvent !== null) {\r\n                if (self.container.contains((lastNetworkClickEvent as any).event.target)) {\r\n                    if ((\"edges\" in lastNetworkClickEvent && (lastNetworkClickEvent as any).edges.length === 1)\r\n                        || (\"nodes\" in lastNetworkClickEvent && (lastNetworkClickEvent as any).nodes.length === 1)) {\r\n                        network.deleteSelected();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // Undo/Redo keyboard commands\r\n        document.addEventListener(\"keydown\", (e) => {\r\n            if ((e.key.toLowerCase() === 'y' && e.ctrlKey) || (e.key.toLowerCase() === 'z' && e.ctrlKey && e.shiftKey)) {\r\n                self.redo();\r\n            }\r\n            else if (e.key.toLowerCase() === 'z' && e.ctrlKey) {\r\n                self.undo();\r\n            }\r\n        });\r\n\r\n        // When clicking off of the network, remove the Delete functionality\r\n        document.addEventListener(\"click\", (e) => {\r\n            if (self.container !== e.target && !self.container.contains(e.target as Node)) {\r\n                lastNetworkClickEvent = null;\r\n            }\r\n        });\r\n    },\r\n\r\n};\r\n\r\nexport default self;\r\n","\"use strict\";\r\ninterface SettingsList {\r\n    nodePhysics: boolean;\r\n    direction: boolean;\r\n    weights: boolean;\r\n\r\n    [index: string]: boolean;\r\n}\r\n\r\nexport default class Settings {\r\n    private static readonly defaults: SettingsList = {\r\n        nodePhysics: true,\r\n        direction: false,\r\n        weights: false\r\n    };\r\n    private static current: any = {};\r\n\r\n    public static checkForLocalStorage() {\r\n        try {\r\n            const x = \"__storage_test__\";\r\n            localStorage.setItem(x, x);\r\n            localStorage.removeItem(x);\r\n            return true;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static saveSettings() {\r\n        if (Settings.checkForLocalStorage()) {\r\n            localStorage.setItem(\"graphPlayground.settings\", JSON.stringify(Settings.current));\r\n        }\r\n    }\r\n\r\n    public static loadSettings() {\r\n        if (Settings.checkForLocalStorage()) {\r\n            const settings = localStorage.getItem(\"graphPlayground.settings\");\r\n            if (settings === null) {\r\n                Settings.current = settings;\r\n            } else {\r\n                Settings.current = JSON.parse(settings);\r\n            }\r\n        }\r\n        if (Settings.current === null) {\r\n            Settings.current = {};\r\n        }\r\n        Settings.setAll();\r\n    }\r\n\r\n    public static setAll() {\r\n        window.network.setOptions({ nodes: { physics: Settings.getOption(\"nodePhysics\") as boolean } });\r\n        window.network.setOptions({ edges: { arrows: { to: Settings.getOption(\"direction\") as boolean } } });\r\n        if (Settings.getOption(\"weights\")) {\r\n            window.network.setOptions({\r\n                manipulation: {\r\n                    editEdge: {\r\n                        editWithoutDrag: window.main.visWeightEdgeEdit\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            window.network.setOptions({ manipulation: { editEdge: window.main.visOptions.manipulation.editEdge } });\r\n        }\r\n    }\r\n\r\n    public static changeOption(option: string, value: string | boolean): void {\r\n        Settings.current[option] = value;\r\n        Settings.saveSettings();\r\n        Settings.setAll();\r\n    }\r\n\r\n    public static getOption(option: string): string | boolean {\r\n        if (option in Settings.current) {\r\n            return Settings.current[option];\r\n        }\r\n        return Settings.defaults[option];\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\nimport * as $ from \"jquery\";\r\n\r\nexport declare interface ModalFormRow {\r\n    type: string;\r\n    label?: string;\r\n    initialValue?: any;\r\n    id?: string | number;\r\n    extraAttrs?: any;\r\n    validationFunc?: (value: any, container: JQuery) => boolean | string;\r\n    clickDismiss?: boolean;\r\n    onclick?: (...args: any[]) => void;\r\n    optionText?: any[];\r\n    optionValues?: any[];\r\n}\r\n\r\ndeclare interface BasicMapType {\r\n    class: string;\r\n    id: string;\r\n    value: any;\r\n\r\n    [key: number]: any;\r\n\r\n    [key: string]: any;\r\n}\r\n\r\nconst defaultCancelCb = ($modal: JQuery) => {\r\n    $modal.modal(\"hide\");\r\n};\r\n\r\nconst self = {\r\n    deepCopy(deep: boolean, clone: any, copy: any) {\r\n        const isPlainObject = (obj: any) => {\r\n            if (!obj || {}.toString.call(obj) !== \"[object Object]\") {\r\n                return false;\r\n            }\r\n\r\n            let proto = Object.getPrototypeOf(obj);\r\n\r\n            if (!proto) {\r\n                return true;\r\n            }\r\n\r\n            // Objects with prototype are plain iff they were constructed by a global Object function\r\n            let Ctor = {}.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\r\n            return (\r\n                typeof Ctor === \"function\" &&\r\n                {}.hasOwnProperty.toString.call(Ctor) === {}.hasOwnProperty.toString.call(Object)\r\n            );\r\n        };\r\n\r\n        let options,\r\n            name,\r\n            src,\r\n            copyIsArray,\r\n            target = arguments[0] || {},\r\n            i = 1,\r\n            length = arguments.length;\r\n\r\n        // Handle a deep copy situation\r\n        if (typeof target === \"boolean\") {\r\n            deep = target;\r\n\r\n            // Skip the boolean and the target\r\n            target = arguments[i] || {};\r\n            i++;\r\n        }\r\n\r\n        // Handle case when target is a string or something (possible in deep copy)\r\n        if (typeof target !== \"object\" && typeof target !== \"function\") {\r\n            target = {};\r\n        }\r\n\r\n        if (i === length) {\r\n            target = this;\r\n            i--;\r\n        }\r\n\r\n        for (; i < length; i++) {\r\n            // Only deal with non-null/undefined values\r\n            if ((options = arguments[i]) != null) {\r\n                // Extend the base object\r\n                for (name in options) {\r\n                    src = target[name];\r\n                    copy = options[name];\r\n\r\n                    // Prevent never-ending loop\r\n                    if (target === copy) {\r\n                        continue;\r\n                    }\r\n\r\n                    // Recurse if we're merging plain objects or arrays\r\n                    if (deep && copy && (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {\r\n                        if (copyIsArray) {\r\n                            copyIsArray = false;\r\n                            clone = src && Array.isArray(src) ? src : [];\r\n                        } else {\r\n                            clone = src && isPlainObject(src) ? src : {};\r\n                        }\r\n\r\n                        // Never move original objects, clone them\r\n                        target[name] = self.deepCopy(deep, clone, copy);\r\n\r\n                        // Don't bring in undefined values\r\n                    } else if (copy !== undefined) {\r\n                        target[name] = copy;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Return the modified object\r\n        return target;\r\n    },\r\n\r\n    deepFreeze: <T extends Object>(o: T): Readonly<T> => {\r\n        Object.freeze(o);\r\n\r\n        Object.getOwnPropertyNames(o).forEach((prop: string | number) => {\r\n            if (\r\n                o.hasOwnProperty(prop) &&\r\n                (o as any)[prop] !== null &&\r\n                (typeof (o as any)[prop] === \"object\" || typeof (o as any)[prop] === \"function\") &&\r\n                !Object.isFrozen((o as any)[prop])\r\n            ) {\r\n                self.deepFreeze((o as any)[prop]);\r\n            }\r\n        });\r\n\r\n        return o;\r\n    },\r\n\r\n    sort: <T>(arr: T[], compareFunction: (a: any, b: any) => number): T[] => {\r\n        return [...arr].sort(compareFunction);\r\n    },\r\n\r\n    datasetToArray: (ds: any, key: string): Readonly<any[]> => {\r\n        const r: any[] = [];\r\n        ds.forEach((v: { [index: string]: any }) => {\r\n            r.push(v[key]);\r\n        });\r\n        return self.deepFreeze(r);\r\n    },\r\n\r\n    keepOnlyKeys: <T>(arr: T[], keys: string[]): Readonly<T[]> => {\r\n        arr = arr.slice();\r\n        arr.forEach((v: any) => {\r\n            const k = Object.keys(v);\r\n            k.forEach(key => {\r\n                if (keys.indexOf(key) < 0) {\r\n                    delete v[key];\r\n                }\r\n            });\r\n        });\r\n        return self.deepFreeze(arr);\r\n    },\r\n\r\n    getFileExtension: (filename: string): string => {\r\n        return filename.split(\".\").splice(-1)[0];\r\n    },\r\n\r\n    htmlEncode: (string: string): string => {\r\n        const t = document.createElement(\"textarea\");\r\n        t.textContent = string;\r\n        string = t.innerHTML.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br/>\");\r\n        return string;\r\n    },\r\n\r\n    printout: (text: string, escape?: string): void => {\r\n        if (escape) {\r\n            text = self.htmlEncode(escape);\r\n        }\r\n        document.getElementById(\"printout\")!.innerHTML = text;\r\n    },\r\n\r\n    flatten: <T>(map: { [key: string]: T }): Readonly<T[]> => {\r\n        const r: T[] = [];\r\n        Object.keys(map).forEach(i => {\r\n            r.push(map[i]);\r\n        });\r\n        return self.deepFreeze(r);\r\n    },\r\n\r\n    rotate: (map: { [key: string]: any }): Readonly<any> => {\r\n        const r: any = {};\r\n        Object.keys(map).forEach(i => {\r\n            if (map[i] in r) {\r\n                r[map[i]].push(i);\r\n            } else {\r\n                r[map[i]] = [i];\r\n            }\r\n        });\r\n        return self.deepFreeze(r);\r\n    },\r\n\r\n    max: (iterable: any[]): number => {\r\n        return iterable.reduce((a, b) => {\r\n            return Math.max(a, b);\r\n        });\r\n    },\r\n\r\n    toTitleCase: (str: string): string => {\r\n        return str.replace(/(?:^|\\s)\\w/g, match => {\r\n            return match.toUpperCase();\r\n        });\r\n    },\r\n\r\n    stringReplacement: (str: string, ...replacements: string[]) => {\r\n        return replacements.reduce((val, replacement, i) => {\r\n            return val.replace(`$${i + 1}`, replacement);\r\n        }, str);\r\n    },\r\n\r\n    showSimpleModal: (title: string, body: string): void => {\r\n        self.showFormModal(null, title, null, [{ type: \"html\", initialValue: body }], null, false);\r\n    },\r\n\r\n    makeFormModal: (title: string, successText: string | null, form: ModalFormRow[], footer = true): JQuery => {\r\n        const f = $(\"<div>\", { class: \"modal-body form-group\" });\r\n        form.forEach((formRow, i) => {\r\n            if (!(\"initialValue\" in formRow)) {\r\n                formRow.initialValue = \"\";\r\n            }\r\n\r\n            let id = \"form-modal-\" + i;\r\n            if (\"id\" in formRow && formRow.id !== \"\" && formRow.id !== null && typeof formRow.id === \"string\") {\r\n                id = formRow.id;\r\n            }\r\n\r\n            const basicMap: BasicMapType = { class: \"form-control\", id, value: formRow.initialValue };\r\n\r\n            if (\"extraAttrs\" in formRow) {\r\n                Object.keys(formRow.extraAttrs).forEach(attrname => {\r\n                    if (typeof formRow.extraAttrs[attrname] !== \"function\") {\r\n                        basicMap[attrname] = formRow.extraAttrs[attrname];\r\n                    }\r\n                });\r\n            }\r\n\r\n            let validFunc: typeof formRow[\"validationFunc\"] = () => true;\r\n            if (\"validationFunc\" in formRow && typeof formRow.validationFunc === \"function\") {\r\n                validFunc = formRow.validationFunc;\r\n            }\r\n\r\n            const generalValidator = (event: any, valueMutator: null | ((v: any) => any) = null) => {\r\n                const $v = $(event.target);\r\n                let val = $v.val();\r\n                if (valueMutator !== null && typeof valueMutator === \"function\") {\r\n                    val = valueMutator(val);\r\n                }\r\n                const valid = validFunc!(val, $v);\r\n\r\n                if (valid === true) {\r\n                    $v.removeClass(\"is-invalid\")\r\n                        .next(\"#feedback-\" + i)\r\n                        .remove();\r\n                } else {\r\n                    $v.addClass(\"is-invalid\");\r\n                    if ($v.next(\"#feedback-\" + i).length === 0) {\r\n                        $v.after($(\"<div>\", { class: \"invalid-feedback\", id: \"feedback-\" + i }).text(valid));\r\n                    }\r\n                }\r\n            };\r\n\r\n            if (formRow.type === \"html\") {\r\n                f.append($(formRow.initialValue));\r\n            } else if (formRow.type === \"checkbox\") {\r\n                basicMap.type = \"checkbox\";\r\n                basicMap.class = \"form-check-input\";\r\n                delete basicMap.value;\r\n                if (formRow.initialValue) {\r\n                    basicMap.checked = \"\";\r\n                }\r\n\r\n                f.append(\r\n                    $(\"<div>\", { class: \"form-check\" }).append(\r\n                        $(\"<label>\", { for: id, class: \"form-check-label\" })\r\n                            .text(formRow.label!)\r\n                            .prepend($(\"<input>\", basicMap))\r\n                    )\r\n                );\r\n            } else {\r\n                f.append($(\"<label>\", { for: id, class: \"col-form-label\" }).text(formRow.label!));\r\n\r\n                if (formRow.type === \"button\") {\r\n                    if (\"clickDismiss\" in formRow && formRow.clickDismiss === true) {\r\n                        basicMap.class += \" btn-dismiss\";\r\n                    }\r\n                    const $b = $(\"<button>\", basicMap).text(formRow.initialValue);\r\n                    if (\"onclick\" in formRow && typeof formRow.onclick === \"function\") {\r\n                        $b.on(\"click\", formRow.onclick);\r\n                    }\r\n                    f.append($b);\r\n                } else if (formRow.type === \"numeric\") {\r\n                    basicMap.type = \"number\";\r\n                    f.append(\r\n                        $(\"<input>\", basicMap).on(\"blur validate\", e => {\r\n                            generalValidator(e, parseFloat);\r\n                        })\r\n                    );\r\n                } else if (formRow.type === \"text\") {\r\n                    basicMap.type = \"text\";\r\n                    f.append($(\"<input>\", basicMap).on(\"blur validate\", generalValidator));\r\n                } else if (formRow.type === \"file\") {\r\n                    basicMap.type = \"file\";\r\n                    basicMap.class = \"form-control-file form-control\";\r\n                    f.append($(\"<input>\", basicMap).on(\"blur validate\", generalValidator));\r\n                } else if (formRow.type === \"textarea\") {\r\n                    const $b = $(\"<textarea>\", basicMap).on(\"blur validate\", generalValidator);\r\n                    if (\"onclick\" in formRow) {\r\n                        $b.on(\"click\", formRow.onclick!);\r\n                    }\r\n                    f.append($b);\r\n                } else if (formRow.type === \"select\") {\r\n                    const $options = $(\"<select>\", basicMap);\r\n                    formRow.optionText!.forEach((oText, oIndex) => {\r\n                        if (oIndex < formRow.optionValues!.length) {\r\n                            let selected = false;\r\n                            if (formRow.initialValue === formRow.optionValues![oIndex]) {\r\n                                selected = true;\r\n                            }\r\n                            $options.append($(\"<option>\", { value: formRow.optionValues![oIndex], selected }).text(oText));\r\n                        } else {\r\n                            let selected = false;\r\n                            if (formRow.initialValue === oText) {\r\n                                selected = true;\r\n                            }\r\n                            $options.append($(\"<option>\", { selected }).text(oText));\r\n                        }\r\n                    });\r\n                    f.append($options.on(\"blur validate\", generalValidator));\r\n                }\r\n            }\r\n        });\r\n\r\n        let $footer: JQuery<HTMLElement> | null = $(\"<div>\", { class: \"modal-footer\" })\r\n            .append($(\"<button>\", { class: \"btn btn-success\", type: \"button\" }).text(successText!))\r\n            .append($(\"<button>\", { class: \"btn btn-danger btn-cancel\", type: \"button\" }).text(\"Cancel\"));\r\n\r\n        if (footer === false) {\r\n            $footer = null;\r\n        }\r\n\r\n        const $modal = $(\"<div>\", { class: \"modal fade\", tabindex: \"-1\", role: \"dialog\", \"aria-hidden\": \"true\" });\r\n        $modal.append(\r\n            $(\"<div>\", { class: \"modal-dialog\" }).append(\r\n                $(\"<div>\", { class: \"modal-content\" })\r\n                    .append(\r\n                        $(\"<div>\", { class: \"modal-header\" })\r\n                            .append($(\"<h5>\", { class: \"modal-title\" }).text(title))\r\n                            .append(\r\n                                $(\"<button>\", {\r\n                                    class: \"close\",\r\n                                    \"data-dismiss\": \"modal\",\r\n                                    \"aria-label\": \"close\"\r\n                                }).append($(\"<span>\", { \"aria-hidden\": \"true\" }).html(\"&times;\"))\r\n                            )\r\n                    )\r\n                    .append(f)\r\n                    .append($footer!)\r\n            )\r\n        );\r\n        $modal\r\n            .find(\"input, textarea\")\r\n            .off(\"keyup\")\r\n            .on(\"keyup\", e => {\r\n                if (e.key === \"Enter\") {\r\n                    $(\".btn-success\")\r\n                        .last()\r\n                        .trigger(\"click\");\r\n                }\r\n            });\r\n        $modal.on(\"shown.bs.modal\", () => {\r\n            $modal\r\n                .find(\"input[type='text'], input[type='number'], textarea\")\r\n                .first()\r\n                .trigger(\"focus\");\r\n        });\r\n\r\n        return $modal;\r\n    },\r\n\r\n    showFormModal: (\r\n        successCb: null | (($modal: JQuery, vals: any[]) => void),\r\n        title: string,\r\n        successText: string | null,\r\n        form: ModalFormRow[],\r\n        cancelCb: null | (($modal: JQuery) => void) = defaultCancelCb,\r\n        footer = true\r\n    ) => {\r\n        const $modal = self.makeFormModal(title, successText, form, footer);\r\n\r\n        $modal\r\n            .on(\"click\", \".btn-cancel\", () => {\r\n                if (typeof cancelCb === \"function\") {\r\n                    cancelCb($modal);\r\n                } else {\r\n                    $modal.modal(\"hide\");\r\n                }\r\n            })\r\n            .on(\"click\", \".btn-dismiss\", () => {\r\n                $modal.modal(\"hide\");\r\n            })\r\n            .on(\"click\", \".btn-success\", () => {\r\n                const vals: any[] = [];\r\n                let hasErrors = false;\r\n\r\n                $modal.find(\"input, textarea, select\").each((i, v) => {\r\n                    const $v = $(v);\r\n\r\n                    if (($v as any).tagName === \"SELECT\") {\r\n                        vals.push($v.find(\":selected\").val());\r\n                    } else if ($v.attr(\"type\") === \"checkbox\") {\r\n                        vals.push($v.prop(\"checked\"));\r\n                    } else if ($v.attr(\"type\") === \"file\") {\r\n                        vals.push(($v.get(0) as any).files);\r\n                    } else if ($v.attr(\"type\") === \"number\") {\r\n                        vals.push(parseFloat($v.val() as string));\r\n                    } else {\r\n                        vals.push($v.val());\r\n                    }\r\n\r\n                    if ($v.trigger(\"validate\").hasClass(\"is-invalid\")) {\r\n                        hasErrors = true;\r\n                    }\r\n                });\r\n\r\n                if (!hasErrors && typeof successCb === \"function\") {\r\n                    successCb($modal, vals);\r\n                }\r\n            })\r\n            .on(\"hidden.bs.modal\", () => {\r\n                if (typeof cancelCb === \"function\") {\r\n                    cancelCb($modal);\r\n                }\r\n                $modal.remove();\r\n            })\r\n            .modal(\"show\");\r\n    }\r\n};\r\n\r\nexport default self;\r\n","\"use strict\";\r\n\r\nimport {EdgeImmutPlain} from \"../classes/GraphImmut/EdgeImmut\";\r\nimport {NodeImmutPlain} from \"../classes/GraphImmut/NodeImmut\";\r\n\r\ninterface Degree {\r\n    in: number;\r\n    out: number;\r\n}\r\n\r\nexport default {\r\n    findVertexDegreesDirectional: (adjacencyMatrix: Array<Array<number>>): Degree[] => {\r\n        // Adjacency stores IDs of edges TO\r\n        const degrees: Degree[] = [];\r\n        adjacencyMatrix.forEach((v, i) => {\r\n            if (i in degrees) {\r\n                degrees[i].out += v.length;\r\n            }\r\n            else {\r\n                degrees[i] = {out: v.length, in: 0};\r\n            }\r\n            v.forEach((outV) => {\r\n                if (outV in degrees) {\r\n                    degrees[outV].in += 1;\r\n                }\r\n                else {\r\n                    degrees[outV] = {in: 1, out: 0};\r\n                }\r\n            });\r\n        });\r\n\r\n        return degrees;\r\n    },\r\n\r\n    interpolateNodesFromEdges: (edges: EdgeImmutPlain[]): NodeImmutPlain[] => {\r\n        const nodes: NodeImmutPlain[] = [];\r\n        edges.forEach((v) => {\r\n            nodes[v.from] = {id: v.from, label: v.from.toString()};\r\n            nodes[v.to] = {id: v.to, label: v.to.toString()};\r\n        });\r\n\r\n        return nodes;\r\n    },\r\n};\r\n","var map = {\n\t\"./EN_US.ts\": [\n\t\t216,\n\t\t9,\n\t\t872\n\t],\n\t\"./custom.d.ts\": [\n\t\t883,\n\t\t7,\n\t\t883\n\t],\n\t\"./js/GraphAlgorithms.ts\": [\n\t\t446,\n\t\t9,\n\t\t446\n\t],\n\t\"./js/UIInteractions.ts\": [\n\t\t825,\n\t\t9\n\t],\n\t\"./js/app.ts\": [\n\t\t238,\n\t\t9\n\t],\n\t\"./js/classes/GraphImmut/EdgeImmut.ts\": [\n\t\t268,\n\t\t9\n\t],\n\t\"./js/classes/GraphImmut/GraphImmut.ts\": [\n\t\t536,\n\t\t9\n\t],\n\t\"./js/classes/GraphImmut/NodeImmut.ts\": [\n\t\t729,\n\t\t9\n\t],\n\t\"./js/classes/SpanningTree.ts\": [\n\t\t866,\n\t\t9,\n\t\t866\n\t],\n\t\"./js/dataImportExport.ts\": [\n\t\t346,\n\t\t9,\n\t\t346\n\t],\n\t\"./js/graphState.ts\": [\n\t\t669,\n\t\t9\n\t],\n\t\"./js/languages.ts\": [\n\t\t119,\n\t\t9\n\t],\n\t\"./js/main.ts\": [\n\t\t863,\n\t\t9\n\t],\n\t\"./js/settings.ts\": [\n\t\t660,\n\t\t9\n\t],\n\t\"./js/util/genericHelpers.ts\": [\n\t\t485,\n\t\t9\n\t],\n\t\"./js/util/graphHelpers.ts\": [\n\t\t641,\n\t\t9\n\t],\n\t\"./js/util/predefinedGraphs.ts\": [\n\t\t133,\n\t\t9,\n\t\t981\n\t],\n\t\"./js/workers/GraphAlgorithmWorker.ts\": [\n\t\t69,\n\t\t9,\n\t\t69\n\t],\n\t\"./js/workers/pwaServiceWorker.ts\": [\n\t\t304,\n\t\t7,\n\t\t304\n\t],\n\t\"./overloadTypes.d.ts\": [\n\t\t595,\n\t\t7,\n\t\t595\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__.t(id, ids[1] | 16)\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 529;\nmodule.exports = webpackAsyncContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \"-\" + {\"69\":\"b78af2626b01babe8fcf\",\"304\":\"a4156951a6dcf68a19a1\",\"346\":\"edc0144de15443eeed2b\",\"446\":\"1e37745b8226d71e7854\",\"595\":\"ab0534da15976842763e\",\"866\":\"0fdfc1e136c933a5887e\",\"872\":\"a797c32124ad1692ad39\",\"883\":\"c85793bacdb38e138bcf\",\"981\":\"e8a5d68fbe42d61fff45\"}[chunkId] + \".min.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t296: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgraphPlayground\"] = self[\"webpackChunkgraphPlayground\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], () => (__webpack_require__(238)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","Worker_fn","Worker","makeAndPrintShortestPath","title","fn","weighted","myName","languages","current","ShortestPath","UIInteractions","isRunning","printAlreadyRunning","$modal","values","modal","source","sink","iStartedProgress","startLoadingAnimation","w","getWorkerIfPossible","e","a","data","cleanup","stopLoadingAnimation","p","NoPathFromAToB","toString","pathExists","ShortestPathFromAToB","distance","WithWeightedCost","cost","UsingPath","graph","GraphImmut","nodes","edges","directed","path","forEach","v","i","editEdge","window","main","setData","slice","includes","DijkstraError","DijkstraErrorHTML","BellmanFordError","BellmanFordErrorHTML","send","type","args","convertToGraphImmut","graphState","getGraphData","Go","label","StartNode","validationFunc","nodeLabelIDValidator","EndNode","makeAndPrintComponents","stronglyConnected","cc","ConnectedComponents","componentKey","settings","getOption","StronglyConnectedComponents","Promise","reject","TaskAlreadyRunning","count","components","NumberOfConnectedComponents","VertexIsInConnectedComponentNumber","JSON","stringify","id","listener","this","worker","postMessage","onmessage","terminate","getAlgorithms","name","GraphColoring","directional","applyFunc","makeAndPrintGraphColoring","display","BFS","Dijkstra","BellmanFord","FordFulkerson","makeAndPrintFFMCMF","KruskalMST","makeAndPrintKruskal","Cyclic","makeAndPrintIsCyclic","TopoSort","makeAndPrintTopologicalSort","Eulerian","makeAndPrintDirectionalEulerian","registerListeners","makeSimpleClickListener","selector","document","querySelector","addEventListener","preventDefault","printHelp","printOptions","predefined","default","Petersen","Konigsberg","Complete","Hypercube","Custom","undo","redo","shuffleNetworkLayout","makeImportFileModal","makeImportTextModal","makeExportFileModal","makeExportTextModal","innerText","File","ImportFile","ImportText","ExportFile","ExportText","CalculateAllProperties","NewGraphLayout","GraphOptions","Help","ExampleGraphs","LoadPetersen","LoadKonigsberg","LoadComplete","LoadHypercube","LoadCustom","Algorithms","GraphProperties","Results","IssuesHTML","vals","changeOption","G","asDirected","asUndirected","asWeighted","asUnweighted","Options","Save","GraphPhysics","initialValue","DiGraph","WeightedGraph","CustomNodeColors","terminateAllWebWorkers","nextIndex","WorkerProxy","prog","getElementById","style","n","ThisTask","TaskAlreadyRunningBody","resolve","chromaticNumber","colors","printGC","NumberOfVertices","length","ChromaticNumberIs","VertexGetsColor","GraphColoringTitle","ReColor","applyColors","scc","makeAndPrintEulerian","ignoreDuplicate","cb","FordFulkersonMaxFlowMinCut","MaxFlowFromAToB","maxFlow","UsingCapacities","flowPath","FlowWithCapacity","from","to","flow","capacity","trim","SourceNode","SinkNode","KruskalMSTTotalWeight","totalWeight","UsingEdges","mst","EdgeImmut","getFrom","getTo","TopoSortErrorHTML","printGraphAlgorithms","$div","innerHTML","addAlgoToPane","alg","navlink","createElement","classList","add","setAttribute","appendChild","then","ui","network","Network","loadDefault","s","localStorage","getItem","jsonGraph","parse","weight","extraAttrs","Object","keys","filter","key","reduce","obj","attributes","freeze","parseFloat","getWeight","getAttribute","attribute","getAllAttributes","toPlain","toReturn","newWeight","assign","filterExtraAttr","labels","filterNodeExtraAttr","nodeMap","Error","newNodes","Math","floor","set","map","genericNodesToImmutNodes","numNodes","size","newEdges","edge","push","genericEdgesToImmutEdges","numEdges","getNode","rich","node","get","addNode","editNode","has","getLabel","deleteNode","nodeCount","getID","addEdge","deleteEdge","deleteAll","foundOneEdge","oldWeight","color","foundFirst","index","isDirected","getAllNodes","toArray","getAllNodesAsImmutableList","getAllEdgesAsImmutableList","getAllEdges","getNumberOfNodes","getNumberOfEdges","getAllOutDegrees","degrees","_","doubleEdges","addedEdges","asChangedDirectedWeighted","getNodeAdjacency","adj","getFullAdjacency","areAdjacent","id1","id2","getEdgesBetween","edgeList","getMinWeightEdgeBetween","minWeight","Infinity","reduceMultiGraph","reducer","min","multiEdges","uniques","Set","acc","keep","duplicateEdge","isWeighted","NodeImmut","getInt","parseInt","setUpToDate","value","listOptions","all","property","GraphState","upToDate","always","indexOf","makeAndPrintProperties","getProperty","updateIfNotUpdated","find","state","graphProperties","recalcLong","vertices","printableProperties","printGraphProperties","properties","k","updateGraph","clearColorFromNodes","clearColorFromEdges","edgeFrom","edgeTo","x","y","iId","newGraph","nodeIDToLabel","nodeLabelToID","toLowerCase","rID","found","getGraphAsDataSet","d","DataSet","setLocations","locations","clearNodeColors","clearEdgeColors","workerPool","backHistory","forwardHistory","maxHistory","stronglyConnectedComponents","connectedComponents","graphColoring","eulerian","cyclic","Languages","setLanguage","EN_US","customColorPallete","self","container","visWeightEdgeEdit","callback","visOptions","interaction","hover","manipulation","customColors","stringReplacement","options","optionText","optionValues","$popup","on","saveData","first","val","cancelEdit","remove","initialColor","getOwnPropertyNames","background","confirm","body","weightFromLabel","operation","undefined","graphColors","luminosity","recalcProps","graphChanged","rearrangeGraph","saveState","g","randomizeNetworkLayoutSeed","getPositions","disableEditMode","enableEditMode","saveStateLocalStorage","getStateForSaving","getElementsByClassName","item","parentElement","Array","isArray","applyState","newState","firstLoad","currentState","oldKey","checkForLocalStorage","setItem","r","round","random","layoutEngine","randomSeed","initialRandomSeed","addNetworkListeners","editEdgeMode","lastNetworkClickEvent","event","contains","target","deleteSelected","ctrlKey","shiftKey","removeItem","saveSettings","Settings","loadSettings","setAll","setOptions","physics","arrows","editWithoutDrag","option","defaults","nodePhysics","direction","weights","defaultCancelCb","deepCopy","deep","clone","copy","src","copyIsArray","isPlainObject","call","proto","getPrototypeOf","Ctor","hasOwnProperty","constructor","arguments","deepFreeze","o","prop","isFrozen","sort","arr","compareFunction","datasetToArray","ds","keepOnlyKeys","getFileExtension","filename","split","splice","htmlEncode","string","t","textContent","replace","printout","text","escape","flatten","rotate","max","iterable","b","toTitleCase","str","match","toUpperCase","replacements","replacement","showSimpleModal","showFormModal","makeFormModal","successText","form","footer","f","class","formRow","basicMap","attrname","validFunc","generalValidator","valueMutator","$v","valid","removeClass","next","addClass","after","append","checked","for","prepend","clickDismiss","$b","onclick","oText","oIndex","selected","$footer","tabindex","role","html","off","last","trigger","successCb","cancelCb","hasErrors","each","tagName","attr","files","hasClass","findVertexDegreesDirectional","adjacencyMatrix","out","in","outV","interpolateNodesFromEdges","webpackAsyncContext","req","__webpack_require__","code","ids","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","m","O","result","chunkIds","priority","notFulfilled","fulfilled","j","every","getter","__esModule","mode","ns","create","def","definition","defineProperty","enumerable","chunkId","promises","u","globalThis","Function","prototype","l","url","done","script","needAttach","scripts","getElementsByTagName","charset","timeout","nc","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","head","Symbol","toStringTag","nmd","paths","children","installedChunks","installedChunkData","promise","error","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}